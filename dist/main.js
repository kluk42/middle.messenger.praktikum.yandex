(()=>{var t={305:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,s="function",u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a href="'+u(typeof(a=null!=(a=c(n,"href")||(null!=e?c(e,"href"):e))?a:i)===s?a.call(l,{name:"href",hash:{},data:o,loc:{start:{line:1,column:9},end:{line:1,column:17}}}):a)+'" class="anchorLink '+u(typeof(a=null!=(a=c(n,"styles")||(null!=e?c(e,"styles"):e))?a:i)===s?a.call(l,{name:"styles",hash:{},data:o,loc:{start:{line:1,column:37},end:{line:1,column:47}}}):a)+'">'+u(typeof(a=null!=(a=c(n,"text")||(null!=e?c(e,"text"):e))?a:i)===s?a.call(l,{name:"text",hash:{},data:o,loc:{start:{line:1,column:49},end:{line:1,column:57}}}):a)+"</a>\r\n"},useData:!0})},941:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <button type='"+c(typeof(l=null!=(l=p(n,"type")||(null!=e?p(e,"type"):e))?l:s)===u?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:2,column:16},end:{line:2,column:24}}}):l)+"' class='button__button button__button_type_"+c(typeof(l=null!=(l=p(n,"stylesType")||(null!=e?p(e,"stylesType"):e))?l:s)===u?l.call(i,{name:"stylesType",hash:{},data:o,loc:{start:{line:2,column:68},end:{line:2,column:82}}}):l)+" "+c(typeof(l=null!=(l=p(n,"styles")||(null!=e?p(e,"styles"):e))?l:s)===u?l.call(i,{name:"styles",hash:{},data:o,loc:{start:{line:2,column:83},end:{line:2,column:93}}}):l)+"'>\r\n    "+c(typeof(l=null!=(l=p(n,"label")||(null!=e?p(e,"label"):e))?l:s)===u?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:13}}}):l)+"\r\n    "+(null!=(a=typeof(l=null!=(l=p(n,"child")||(null!=e?p(e,"child"):e))?l:s)===u?l.call(i,{name:"child",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:15}}}):l)?a:"")+"\r\n  </button>\r\n"},3:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <div class='button "+c(typeof(l=null!=(l=p(n,"containerStyles")||(null!=e?p(e,"containerStyles"):e))?l:s)===u?l.call(i,{name:"containerStyles",hash:{},data:o,loc:{start:{line:7,column:21},end:{line:7,column:40}}}):l)+"'>\r\n"+(null!=(a=p(n,"if").call(i,null!=e?p(e,"actionError"):e,{name:"if",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o,loc:{start:{line:8,column:4},end:{line:10,column:11}}}))?a:"")+"    <button\r\n      type='"+c(typeof(l=null!=(l=p(n,"type")||(null!=e?p(e,"type"):e))?l:s)===u?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:12,column:12},end:{line:12,column:20}}}):l)+"'\r\n      class='button__button button__button_type_"+c(typeof(l=null!=(l=p(n,"stylesType")||(null!=e?p(e,"stylesType"):e))?l:s)===u?l.call(i,{name:"stylesType",hash:{},data:o,loc:{start:{line:13,column:48},end:{line:13,column:62}}}):l)+" "+c(typeof(l=null!=(l=p(n,"styles")||(null!=e?p(e,"styles"):e))?l:s)===u?l.call(i,{name:"styles",hash:{},data:o,loc:{start:{line:13,column:63},end:{line:13,column:73}}}):l)+"'\r\n    >"+c(typeof(l=null!=(l=p(n,"label")||(null!=e?p(e,"label"):e))?l:s)===u?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:14,column:5},end:{line:14,column:14}}}):l)+"</button>\r\n"+(null!=(a=p(n,"if").call(i,null!=e?p(e,"validationError"):e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o,loc:{start:{line:15,column:4},end:{line:17,column:11}}}))?a:"")+"  </div>\r\n"},4:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <p class='button__error'>"+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"actionError")||(null!=e?l(e,"actionError"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"actionError",hash:{},data:o,loc:{start:{line:9,column:31},end:{line:9,column:46}}}):a)+"</p>\r\n"},6:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <p class='button__error'>"+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"validationError")||(null!=e?l(e,"validationError"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"validationError",hash:{},data:o,loc:{start:{line:16,column:31},end:{line:16,column:50}}}):a)+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=l(n,"if").call(null!=e?e:t.nullContext||{},null!=e?l(e,"noValidation"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:19,column:7}}}))?a:""},useData:!0})},848:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='newMessage'>\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"AttachmentBtn")||(null!=e?c(e,"AttachmentBtn"):e))?l:s)===u?l.call(i,{name:"AttachmentBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:21}}}):l)?a:"")+"\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"Form")||(null!=e?c(e,"Form"):e))?l:s)===u?l.call(i,{name:"Form",hash:{},data:o,loc:{start:{line:3,column:2},end:{line:3,column:12}}}):l)?a:"")+"\r\n</div>"},useData:!0})},625:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return'        class="chatMessage chatMessage_type_receivedMessage"\r\n'},3:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <p class="chatMessage__date">'+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"messageDate")||(null!=e?l(e,"messageDate"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"messageDate",hash:{},data:o,loc:{start:{line:8,column:37},end:{line:8,column:52}}}):a)+"</p>\r\n"},5:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=l(n,"if").call(null!=e?e:t.nullContext||{},null!=e?l(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o,loc:{start:{line:12,column:12},end:{line:14,column:19}}}))?a:""},6:function(t,e,n,r,o){return'                class="chatMessage__content chatMessage__content_isMessageSent chatMessage__content_type_img"\r\n'},8:function(t,e,n,r,o){return'            class="chatMessage__content chatMessage__content_type_img"\r\n'},10:function(t,e,n,r,o){return'            class="chatMessage__content chatMessage__content_isMessageSent"\r\n'},12:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <p class="chatMessage__text">\r\n            '+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"textMessage")||(null!=e?l(e,"textMessage"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"textMessage",hash:{},data:o,loc:{start:{line:26,column:12},end:{line:26,column:27}}}):a)+"\r\n        </p>\r\n"},14:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"            <img\r\n                src="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"imgPath")||(null!=e?l(e,"imgPath"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"imgPath",hash:{},data:o,loc:{start:{line:31,column:20},end:{line:31,column:31}}}):a)+'\r\n                alt="Изображение в сообщении"\r\n                class="chatMessage__imgMessage"\r\n            >\r\n'},16:function(t,e,n,r,o){return'                class="chatMessage__time chatMessage__time_messageContent_img"\r\n'},18:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=l(n,"if").call(null!=e?e:t.nullContext||{},null!=e?l(e,"isMessageDelivered"):e,{name:"if",hash:{},fn:t.program(19,o,0),inverse:t.noop,data:o,loc:{start:{line:43,column:14},end:{line:49,column:21}}}))?a:""},19:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"                <img\r\n                    src="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"messageReceivedImgPath")||(null!=e?l(e,"messageReceivedImgPath"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"messageReceivedImgPath",hash:{},data:o,loc:{start:{line:45,column:24},end:{line:45,column:50}}}):a)+'\r\n                    alt="Знак получения сообщения"\r\n                    class="chatMessage__messageIsReceivedIcon"\r\n                >\r\n'},21:function(t,e,n,r,o){return'                    class="chatMessage__timeSign chatMessage__timeSign_messageContent_img"\r\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n<div \r\n"+(null!=(a=s(n,"unless").call(i,null!=e?s(e,"isMessageSent"):e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:3,column:4},end:{line:5,column:15}}}))?a:"")+'    class="chatMessage">\r\n'+(null!=(a=s(n,"if").call(i,null!=e?s(e,"withDate"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?a:"")+"    <div \r\n"+(null!=(a=s(n,"if").call(i,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:11,column:8},end:{line:15,column:15}}}))?a:"")+(null!=(a=s(n,"if").call(i,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(8,o,0),inverse:t.noop,data:o,loc:{start:{line:16,column:8},end:{line:18,column:15}}}))?a:"")+(null!=(a=s(n,"if").call(i,null!=e?s(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(10,o,0),inverse:t.noop,data:o,loc:{start:{line:19,column:8},end:{line:21,column:15}}}))?a:"")+'        class="chatMessage__content"\r\n    >\r\n'+(null!=(a=s(n,"if").call(i,null!=e?s(e,"textMessage"):e,{name:"if",hash:{},fn:t.program(12,o,0),inverse:t.noop,data:o,loc:{start:{line:24,column:8},end:{line:28,column:15}}}))?a:"")+(null!=(a=s(n,"if").call(i,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(14,o,0),inverse:t.noop,data:o,loc:{start:{line:29,column:8},end:{line:35,column:15}}}))?a:"")+"        <div\r\n"+(null!=(a=s(n,"if").call(i,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(16,o,0),inverse:t.noop,data:o,loc:{start:{line:37,column:12},end:{line:39,column:19}}}))?a:"")+'            class="chatMessage__time"\r\n        >\r\n'+(null!=(a=s(n,"if").call(i,null!=e?s(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(18,o,0),inverse:t.noop,data:o,loc:{start:{line:42,column:12},end:{line:50,column:19}}}))?a:"")+"            <p\r\n"+(null!=(a=s(n,"if").call(i,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(21,o,0),inverse:t.noop,data:o,loc:{start:{line:52,column:16},end:{line:54,column:23}}}))?a:"")+'                class="chatMessage__timeSign"\r\n            >\r\n                '+t.escapeExpression("function"==typeof(l=null!=(l=s(n,"messageTime")||(null!=e?s(e,"messageTime"):e))?l:t.hooks.helperMissing)?l.call(i,{name:"messageTime",hash:{},data:o,loc:{start:{line:57,column:16},end:{line:57,column:31}}}):l)+"\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n"},useData:!0})},621:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return"class='chatSettings__list chatSettings__list_open'"},3:function(t,e,n,r,o){var a;return"      <li class='chatSettings__item'>\r\n      "+(null!=(a=t.lambda(e,e))?a:"")+"\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='chatSettings'>\r\n  "+(null!=(a="function"==typeof(l=null!=(l=s(n,"openBtn")||(null!=e?s(e,"openBtn"):e))?l:t.hooks.helperMissing)?l.call(i,{name:"openBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:15}}}):l)?a:"")+"\r\n\r\n  <ul "+(null!=(a=s(n,"if").call(i,null!=e?s(e,"isOpen"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:6},end:{line:4,column:77}}}))?a:"")+' class="chatSettings__list">\r\n'+(null!=(a=s(n,"each").call(i,null!=e?s(e,"buttons"):e,{name:"each",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:4},end:{line:9,column:13}}}))?a:"")+"  </ul>\r\n</div>\r\n"},useData:!0})},753:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){return"<div class='chatSettings__middleSettingsDot'></div>"},useData:!0})},144:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(a=s(n,"if").call(i,null!=e?s(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:4,column:8},end:{line:8,column:15}}}))?a:"")+'            <h2 class="chat__name">'+t.escapeExpression("function"==typeof(l=null!=(l=s(n,"chatName")||(null!=e?s(e,"chatName"):e))?l:t.hooks.helperMissing)?l.call(i,{name:"chatName",hash:{},data:o,loc:{start:{line:9,column:35},end:{line:9,column:47}}}):l)+"</h2>\r\n"},2:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <img src="'+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"avatarSrc")||(null!=e?l(e,"avatarSrc"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:5,column:22},end:{line:5,column:35}}}):a)+'" alt="avatar" class="chat__avatar">\r\n'},4:function(t,e,n,r,o){return'            <div class="chat__avatar chat__avatar_empty"></div>\r\n'},6:function(t,e,n,r,o){return'class="chat__messagesWindow"'},8:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=l(n,"each").call(null!=e?e:t.nullContext||{},null!=e?l(e,"chatMessages"):e,{name:"each",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o,loc:{start:{line:15,column:12},end:{line:17,column:21}}}))?a:""},9:function(t,e,n,r,o){var a;return"                "+(null!=(a=t.lambda(e,e))?a:"")+"\r\n"},11:function(t,e,n,r,o){return'            <p class="chat__chooseChatSign">Выберите чат чтобы отправить сообщение</p>\r\n'},13:function(t,e,n,r,o){var a,l,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a="function"==typeof(l=null!=(l=i(n,"ChatMessageInput")||(null!=e?i(e,"ChatMessageInput"):e))?l:t.hooks.helperMissing)?l.call(null!=e?e:t.nullContext||{},{name:"ChatMessageInput",hash:{},data:o,loc:{start:{line:22,column:26},end:{line:22,column:48}}}):l)?a:""},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="chat">\r\n    <div class="chat__head">\r\n'+(null!=(a=c(n,"if").call(i,null!=e?c(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:3,column:4},end:{line:10,column:11}}}))?a:"")+"        "+(null!=(a=typeof(l=null!=(l=c(n,"ChatSettings")||(null!=e?c(e,"ChatSettings"):e))?l:s)===u?l.call(i,{name:"ChatSettings",hash:{},data:o,loc:{start:{line:11,column:8},end:{line:11,column:26}}}):l)?a:"")+"\r\n    </div>\r\n    <div "+(null!=(a=c(n,"if").call(i,null!=e?c(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o,loc:{start:{line:13,column:9},end:{line:13,column:66}}}))?a:"")+' class="chat__messagesWindow chat__messagesWindow_chatIsNotSelected">\r\n'+(null!=(a=c(n,"if").call(i,null!=e?c(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(8,o,0),inverse:t.program(11,o,0),data:o,loc:{start:{line:14,column:8},end:{line:20,column:15}}}))?a:"")+"    </div>\r\n    "+(null!=(a=c(n,"if").call(i,null!=e?c(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(13,o,0),inverse:t.noop,data:o,loc:{start:{line:22,column:4},end:{line:22,column:55}}}))?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"Modal")||(null!=e?c(e,"Modal"):e))?l:s)===u?l.call(i,{name:"Modal",hash:{},data:o,loc:{start:{line:23,column:4},end:{line:23,column:15}}}):l)?a:"")+"\r\n</div>\r\n"},useData:!0})},35:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a;return"      "+(null!=(a=t.lambda(e,e))?a:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='messages'>\r\n  <div class='messages__head'>\r\n    "+(null!=(a="function"==typeof(l=null!=(l=s(n,"ProfileLink")||(null!=e?s(e,"ProfileLink"):e))?l:t.hooks.helperMissing)?l.call(i,{name:"ProfileLink",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:21}}}):l)?a:"")+"\r\n    <input type='text' class='messages__searchInput' placeholder='Поиск' />\r\n  </div>\r\n  <ul class='messages__list'>\r\n"+(null!=(a=s(n,"each").call(i,null!=e?s(e,"foundMessages"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:13}}}))?a:"")+(null!=(a=s(n,"each").call(i,null!=e?s(e,"chats"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:10,column:4},end:{line:12,column:13}}}))?a:"")+"  </ul>\r\n</div>\r\n"},useData:!0})},325:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='inputField "+c(typeof(l=null!=(l=p(n,"inputWrapperStyle")||(null!=e?p(e,"inputWrapperStyle"):e))?l:s)===u?l.call(i,{name:"inputWrapperStyle",hash:{},data:o,loc:{start:{line:1,column:23},end:{line:1,column:44}}}):l)+"'>\r\n  <label for="+c(typeof(l=null!=(l=p(n,"name")||(null!=e?p(e,"name"):e))?l:s)===u?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:13},end:{line:2,column:21}}}):l)+" class='inputField__label "+c(typeof(l=null!=(l=p(n,"labelStyle")||(null!=e?p(e,"labelStyle"):e))?l:s)===u?l.call(i,{name:"labelStyle",hash:{},data:o,loc:{start:{line:2,column:47},end:{line:2,column:61}}}):l)+"'>"+c(typeof(l=null!=(l=p(n,"label")||(null!=e?p(e,"label"):e))?l:s)===u?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:2,column:63},end:{line:2,column:72}}}):l)+"</label>\r\n  "+(null!=(a=typeof(l=null!=(l=p(n,"input")||(null!=e?p(e,"input"):e))?l:s)===u?l.call(i,{name:"input",hash:{},data:o,loc:{start:{line:3,column:2},end:{line:3,column:13}}}):l)?a:"")+"\r\n  <p class='inputField__error "+c(typeof(l=null!=(l=p(n,"errorStyle")||(null!=e?p(e,"errorStyle"):e))?l:s)===u?l.call(i,{name:"errorStyle",hash:{},data:o,loc:{start:{line:4,column:30},end:{line:4,column:44}}}):l)+"'>"+c(typeof(l=null!=(l=p(n,"errorText")||(null!=e?p(e,"errorText"):e))?l:s)===u?l.call(i,{name:"errorText",hash:{},data:o,loc:{start:{line:4,column:46},end:{line:4,column:59}}}):l)+"</p>\r\n</div>"},useData:!0})},179:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a;return"    "+(null!=(a=t.lambda(e,e))?a:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<form action='submit' class='"+t.escapeExpression(typeof(l=null!=(l=c(n,"formClass")||(null!=e?c(e,"formClass"):e))?l:s)===u?l.call(i,{name:"formClass",hash:{},data:o,loc:{start:{line:1,column:29},end:{line:1,column:42}}}):l)+"' novalidate>\r\n"+(null!=(a=c(n,"each").call(i,null!=e?c(e,"fields"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:2},end:{line:4,column:11}}}))?a:"")+"  "+(null!=(a=typeof(l=null!=(l=c(n,"submitBtn")||(null!=e?c(e,"submitBtn"):e))?l:s)===u?l.call(i,{name:"submitBtn",hash:{},data:o,loc:{start:{line:5,column:2},end:{line:5,column:17}}}):l)?a:"")+"\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"Modal")||(null!=e?c(e,"Modal"):e))?l:s)===u?l.call(i,{name:"Modal",hash:{},data:o,loc:{start:{line:6,column:2},end:{line:6,column:13}}}):l)?a:"")+"\r\n</form>"},useData:!0})},306:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<textarea "+(null!=(a=p(n,"if").call(i,null!=e?p(e,"value"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:10},end:{line:2,column:45}}}))?a:"")+' class="'+c(typeof(l=null!=(l=p(n,"inputStyle")||(null!=e?p(e,"inputStyle"):e))?l:s)===u?l.call(i,{name:"inputStyle",hash:{},data:o,loc:{start:{line:2,column:53},end:{line:2,column:67}}}):l)+'" name='+c(typeof(l=null!=(l=p(n,"name")||(null!=e?p(e,"name"):e))?l:s)===u?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:74},end:{line:2,column:82}}}):l)+" placeholder="+c(typeof(l=null!=(l=p(n,"placeholder")||(null!=e?p(e,"placeholder"):e))?l:s)===u?l.call(i,{name:"placeholder",hash:{},data:o,loc:{start:{line:2,column:95},end:{line:2,column:110}}}):l)+">\r\n"},2:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"value="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"value")||(null!=e?l(e,"value"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"value",hash:{},data:o,loc:{start:{line:2,column:29},end:{line:2,column:38}}}):a)},4:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<input type="'+c(typeof(l=null!=(l=p(n,"type")||(null!=e?p(e,"type"):e))?l:s)===u?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:4,column:13},end:{line:4,column:21}}}):l)+'" '+(null!=(a=p(n,"if").call(i,null!=e?p(e,"value"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:23},end:{line:4,column:58}}}))?a:"")+' class="'+c(typeof(l=null!=(l=p(n,"inputStyle")||(null!=e?p(e,"inputStyle"):e))?l:s)===u?l.call(i,{name:"inputStyle",hash:{},data:o,loc:{start:{line:4,column:66},end:{line:4,column:80}}}):l)+'" name='+c(typeof(l=null!=(l=p(n,"name")||(null!=e?p(e,"name"):e))?l:s)===u?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:4,column:87},end:{line:4,column:95}}}):l)+" "+(null!=(a=p(n,"if").call(i,null!=e?p(e,"id"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:96},end:{line:4,column:122}}}))?a:"")+">\r\n"},5:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"id="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"id")||(null!=e?l(e,"id"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:o,loc:{start:{line:4,column:109},end:{line:4,column:115}}}):a)},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=l(n,"if").call(null!=e?e:t.nullContext||{},null!=e?l(e,"isTextArea"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?a:""},useData:!0})},843:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return'class="message message_unread"'},3:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <img src="'+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"imgSrc")||(null!=e?l(e,"imgSrc"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"imgSrc",hash:{},data:o,loc:{start:{line:4,column:22},end:{line:4,column:32}}}):a)+'" alt="avatar" class="message__avatar">\r\n'},5:function(t,e,n,r,o){return'            <div class="message__avatar message__avatar_empty"></div>\r\n'},7:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__text">'+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"message")||(null!=e?l(e,"message"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"message",hash:{},data:o,loc:{start:{line:11,column:37},end:{line:11,column:48}}}):a)+"</p>\r\n"},9:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__text">\r\n                <span class="message__text_highlighted">Вы:&nbsp;</span>\r\n                '+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"message")||(null!=e?l(e,"message"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"message",hash:{},data:o,loc:{start:{line:15,column:16},end:{line:15,column:27}}}):a)+"\r\n            </p>\r\n"},11:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__unreadCount">'+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"unreadMessagesCount")||(null!=e?l(e,"unreadMessagesCount"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"unreadMessagesCount",hash:{},data:o,loc:{start:{line:19,column:44},end:{line:19,column:67}}}):a)+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n    <li "+(null!=(a=p(n,"if").call(i,null!=e?p(e,"isMessageSelected"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:8},end:{line:2,column:70}}}))?a:"")+' class="message">\r\n'+(null!=(a=p(n,"if").call(i,null!=e?p(e,"imgSrc"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o,loc:{start:{line:3,column:8},end:{line:7,column:15}}}))?a:"")+'        <p class="message__chatName">'+c(typeof(l=null!=(l=p(n,"chatName")||(null!=e?p(e,"chatName"):e))?l:s)===u?l.call(i,{name:"chatName",hash:{},data:o,loc:{start:{line:8,column:37},end:{line:8,column:49}}}):l)+'</p>\r\n        <p class="message__date">'+c(typeof(l=null!=(l=p(n,"messageDate")||(null!=e?p(e,"messageDate"):e))?l:s)===u?l.call(i,{name:"messageDate",hash:{},data:o,loc:{start:{line:9,column:33},end:{line:9,column:48}}}):l)+"</p>\r\n"+(null!=(a=p(n,"if").call(i,null!=e?p(e,"isMessageReceived"):e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.program(9,o,0),data:o,loc:{start:{line:10,column:8},end:{line:17,column:15}}}))?a:"")+(null!=(a=p(n,"if").call(i,null!=e?p(e,"unreadMessagesCount"):e,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o,loc:{start:{line:18,column:8},end:{line:20,column:15}}}))?a:"")+"    </li>\r\n</div>\r\n"},useData:!0})},812:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a;return"      "+(null!=(a=t.lambda(e,e))?a:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='modalBackground'>\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"CloseBtn")||(null!=e?c(e,"CloseBtn"):e))?l:s)===u?l.call(i,{name:"CloseBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:16}}}):l)?a:"")+"\r\n  <div class='modal'>\r\n    <h3 class='modal__header'>"+t.escapeExpression(typeof(l=null!=(l=c(n,"header")||(null!=e?c(e,"header"):e))?l:s)===u?l.call(i,{name:"header",hash:{},data:o,loc:{start:{line:4,column:30},end:{line:4,column:40}}}):l)+"</h3>\r\n"+(null!=(a=c(n,"each").call(i,null!=e?c(e,"content"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:4},end:{line:7,column:13}}}))?a:"")+"  </div>\r\n</div>"},useData:!0})},217:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    <img src="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"avatarSrc")||(null!=e?l(e,"avatarSrc"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:4,column:13},end:{line:4,column:26}}}):a)+" alt='Аватар' class='profile__avatar' />\r\n"},3:function(t,e,n,r,o){return"    <div class='profile__avatar profile__avatar_type_tooltip'></div>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='profile__inputWrapper'>\r\n  "+(null!=(a="function"==typeof(l=null!=(l=s(n,"openModalBtn")||(null!=e?s(e,"openModalBtn"):e))?l:t.hooks.helperMissing)?l.call(i,{name:"openModalBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:20}}}):l)?a:"")+"\r\n"+(null!=(a=s(n,"if").call(i,null!=e?s(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:3,column:2},end:{line:7,column:9}}}))?a:"")+"</div>"},useData:!0})},340:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){return'<button class="profileGoBackBtn"></button>\r\n'},useData:!0})},139:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n  <main class='mainGrid'>\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"MessagesList")||(null!=e?c(e,"MessagesList"):e))?l:s)===u?l.call(i,{name:"MessagesList",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:22}}}):l)?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"Chat")||(null!=e?c(e,"Chat"):e))?l:s)===u?l.call(i,{name:"Chat",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:14}}}):l)?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"Modal")||(null!=e?c(e,"Modal"):e))?l:s)===u?l.call(i,{name:"Modal",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:15}}}):l)?a:"")+"\r\n  </main>\r\n</div>"},useData:!0})},236:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"GoBackBtn")||(null!=e?c(e,"GoBackBtn"):e))?l:s)===u?l.call(i,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):l)?a:"")+"\r\n  <div class='profile__content'>\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"AvatarInput")||(null!=e?c(e,"AvatarInput"):e))?l:s)===u?l.call(i,{name:"AvatarInput",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:21}}}):l)?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"form")||(null!=e?c(e,"form"):e))?l:s)===u?l.call(i,{name:"form",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:14}}}):l)?a:"")+"\r\n  </div>\r\n</main>"},useData:!0})},964:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"GoBackBtn")||(null!=e?c(e,"GoBackBtn"):e))?l:s)===u?l.call(i,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):l)?a:"")+"\r\n  <div class='profile__content'>\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"AvatarInput")||(null!=e?c(e,"AvatarInput"):e))?l:s)===u?l.call(i,{name:"AvatarInput",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:21}}}):l)?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"Form")||(null!=e?c(e,"Form"):e))?l:s)===u?l.call(i,{name:"Form",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:14}}}):l)?a:"")+"\r\n  </div>\r\n  "+(null!=(a=typeof(l=null!=(l=c(n,"AvatarModal")||(null!=e?c(e,"AvatarModal"):e))?l:s)===u?l.call(i,{name:"AvatarModal",hash:{},data:o,loc:{start:{line:7,column:2},end:{line:7,column:19}}}):l)?a:"")+"\r\n</main>"},useData:!0})},738:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='errorPage'>\r\n  <h2 class='errorPage__error'>"+c(typeof(l=null!=(l=p(n,"statusCode")||(null!=e?p(e,"statusCode"):e))?l:s)===u?l.call(i,{name:"statusCode",hash:{},data:o,loc:{start:{line:2,column:31},end:{line:2,column:45}}}):l)+"</h2>\r\n  <p class='errorPage__text'>"+c(typeof(l=null!=(l=p(n,"text")||(null!=e?p(e,"text"):e))?l:s)===u?l.call(i,{name:"text",hash:{},data:o,loc:{start:{line:3,column:29},end:{line:3,column:37}}}):l)+"</p>\r\n  "+(null!=(a=typeof(l=null!=(l=p(n,"Link")||(null!=e?p(e,"Link"):e))?l:s)===u?l.call(i,{name:"Link",hash:{},data:o,loc:{start:{line:4,column:2},end:{line:4,column:12}}}):l)?a:"")+"\r\n</main>"},useData:!0})},19:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <img src="+t.escapeExpression("function"==typeof(a=null!=(a=l(n,"avatarSrc")||(null!=e?l(e,"avatarSrc"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:5,column:15},end:{line:5,column:28}}}):a)+" alt='Аватар' class='profile__avatar' />\r\n"},3:function(t,e,n,r,o){return"      <div class='profile__avatar profile__avatar_type_tooltip'></div>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(a=typeof(l=null!=(l=p(n,"GoBackBtn")||(null!=e?p(e,"GoBackBtn"):e))?l:s)===u?l.call(i,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):l)?a:"")+"\r\n  <div class='profile__content'>\r\n"+(null!=(a=p(n,"if").call(i,null!=e?p(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:4,column:4},end:{line:8,column:11}}}))?a:"")+"    <h2 class='profile__name'>"+c(typeof(l=null!=(l=p(n,"profileName")||(null!=e?p(e,"profileName"):e))?l:s)===u?l.call(i,{name:"profileName",hash:{},data:o,loc:{start:{line:9,column:30},end:{line:9,column:45}}}):l)+"</h2>\r\n    <div class='profile__lists'>\r\n      <ul class='profile__infoList'>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Почта</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"email")||(null!=e?p(e,"email"):e))?l:s)===u?l.call(i,{name:"email",hash:{},data:o,loc:{start:{line:14,column:48},end:{line:14,column:57}}}):l)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Логин</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"login")||(null!=e?p(e,"login"):e))?l:s)===u?l.call(i,{name:"login",hash:{},data:o,loc:{start:{line:18,column:48},end:{line:18,column:57}}}):l)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Имя</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"name")||(null!=e?p(e,"name"):e))?l:s)===u?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:22,column:48},end:{line:22,column:56}}}):l)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Фамилия</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"surname")||(null!=e?p(e,"surname"):e))?l:s)===u?l.call(i,{name:"surname",hash:{},data:o,loc:{start:{line:26,column:48},end:{line:26,column:59}}}):l)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Имя в чате</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"chatName")||(null!=e?p(e,"chatName"):e))?l:s)===u?l.call(i,{name:"chatName",hash:{},data:o,loc:{start:{line:30,column:48},end:{line:30,column:60}}}):l)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Телефон</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(l=null!=(l=p(n,"telephone")||(null!=e?p(e,"telephone"):e))?l:s)===u?l.call(i,{name:"telephone",hash:{},data:o,loc:{start:{line:34,column:48},end:{line:34,column:61}}}):l)+"</p>\r\n        </li>\r\n      </ul>\r\n      <ul class='profile__links'>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(a=typeof(l=null!=(l=p(n,"ChangeDataLink")||(null!=e?p(e,"ChangeDataLink"):e))?l:s)===u?l.call(i,{name:"ChangeDataLink",hash:{},data:o,loc:{start:{line:39,column:10},end:{line:39,column:30}}}):l)?a:"")+"\r\n        </li>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(a=typeof(l=null!=(l=p(n,"ChangePasswordLink")||(null!=e?p(e,"ChangePasswordLink"):e))?l:s)===u?l.call(i,{name:"ChangePasswordLink",hash:{},data:o,loc:{start:{line:42,column:10},end:{line:42,column:34}}}):l)?a:"")+"\r\n        </li>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(a=typeof(l=null!=(l=p(n,"LogoutLink")||(null!=e?p(e,"LogoutLink"):e))?l:s)===u?l.call(i,{name:"LogoutLink",hash:{},data:o,loc:{start:{line:45,column:10},end:{line:45,column:26}}}):l)?a:"")+"\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</main>"},useData:!0})},981:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='mainGrid'>\r\n  <div class='auth'>\r\n    <h2 class='auth__header'>Вход</h2>\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"form")||(null!=e?c(e,"form"):e))?l:s)===u?l.call(i,{name:"form",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:14}}}):l)?a:"")+"\r\n    "+(null!=(a=typeof(l=null!=(l=c(n,"signUpLink")||(null!=e?c(e,"signUpLink"):e))?l:s)===u?l.call(i,{name:"signUpLink",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:20}}}):l)?a:"")+"\r\n  </div>\r\n</main>\r\n"},useData:!0})},383:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,l,i=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n  <main class='mainGrid'>\r\n    <div class='auth'>\r\n      <h2 class='auth__header'>Регистрация</h2>\r\n      "+(null!=(a=typeof(l=null!=(l=c(n,"form")||(null!=e?c(e,"form"):e))?l:s)===u?l.call(i,{name:"form",hash:{},data:o,loc:{start:{line:5,column:6},end:{line:5,column:16}}}):l)?a:"")+"\r\n      "+(null!=(a=typeof(l=null!=(l=c(n,"signInLink")||(null!=e?c(e,"signInLink"):e))?l:s)===u?l.call(i,{name:"signInLink",hash:{},data:o,loc:{start:{line:6,column:6},end:{line:6,column:22}}}):l)?a:"")+"\r\n    </div>\r\n  </main>\r\n</div>\r\n"},useData:!0})},834:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var a=o(n(67)),l=r(n(558)),i=r(n(728)),s=o(n(392)),u=o(n(628)),c=r(n(982));function p(){var t=new a.HandlebarsEnvironment;return s.extend(t,a),t.SafeString=l.default,t.Exception=i.default,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var f=p();f.create=p,c.default(f),f.default=f,e.default=f,t.exports=e.default},67:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=p;var o=n(392),a=r(n(728)),l=n(638),i=n(881),s=r(n(37)),u=n(293);e.VERSION="4.7.7",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var c="[object Object]";function p(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),i.registerDefaultDecorators(this)}p.prototype={constructor:p,logger:s.default,log:s.default.log,registerHelper:function(t,e){if(o.toString.call(t)===c){if(e)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===c)o.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===c){if(e)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var f=s.default.log;e.log=f,e.createFrame=o.createFrame,e.logger=s.default},881:(t,e,n)=>{"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var r,o=(r=n(670))&&r.__esModule?r:{default:r}},670:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(392);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,o){var a=t;return e.partials||(e.partials={},a=function(o,a){var l=n.partials;n.partials=r.extend({},l,e.partials);var i=t(o,a);return n.partials=l,i}),e.partials[o.args[0]]=o.fn,a}))},t.exports=e.default},728:(t,e)=>{"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var o=e&&e.loc,a=void 0,l=void 0,i=void 0,s=void 0;o&&(a=o.start.line,l=o.end.line,i=o.start.column,s=o.end.column,t+=" - "+a+":"+i);for(var u=Error.prototype.constructor.call(this,t),c=0;c<n.length;c++)this[n[c]]=u[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=a,this.endLineNumber=l,Object.defineProperty?(Object.defineProperty(this,"column",{value:i,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=i,this.endColumn=s))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},638:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),a.default(t),l.default(t),i.default(t),s.default(t),u.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=r(n(342)),a=r(n(822)),l=r(n(905)),i=r(n(405)),s=r(n(702)),u=r(n(593)),c=r(n(978))},342:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(392);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var o=n.inverse,a=n.fn;if(!0===e)return a(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var l=r.createFrame(n.data);l.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:l}}return a(e,n)}))},t.exports=e.default},822:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(392),a=(r=n(728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new a.default("Must pass iterator to #each");var r,l=e.fn,i=e.inverse,s=0,u="",c=void 0,p=void 0;function f(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,p&&(c.contextPath=p+e)),u+=l(t[e],{data:c,blockParams:o.blockParams([t[e],e],[p+e,null])})}if(e.data&&e.ids&&(p=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var h=t.length;s<h;s++)s in t&&f(s,s,s===t.length-1);else if(n.g.Symbol&&t[n.g.Symbol.iterator]){for(var d=[],y=t[n.g.Symbol.iterator](),m=y.next();!m.done;m=y.next())d.push(m.value);for(h=(t=d).length;s<h;s++)f(s,s,s===t.length-1)}else r=void 0,Object.keys(t).forEach((function(t){void 0!==r&&f(r,s-1),r=t,s++})),void 0!==r&&f(r,s-1,!0);return 0===s&&(u=i(this)),u}))},t.exports=e.default},905:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=(r=n(728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},405:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(392),a=(r=n(728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},702:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},593:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},978:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(392),a=(r=n(728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:o.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},572:(t,e,n)=>{"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n(392)},293:(t,e,n)=>{"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return function(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==a[t]&&(a[t]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(a).forEach((function(t){delete a[t]}))};var r=n(572),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(37)),a=Object.create(null)},5:(t,e)=>{"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}}},37:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(392),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},982:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n.g?n.g:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default},628:(t,e,n)=>{"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=l.COMPILER_REVISION;if(!(e>=l.LAST_COMPATIBLE_COMPILER_REVISION&&e<=l.COMPILER_REVISION)){if(e<l.LAST_COMPATIBLE_COMPILER_REVISION){var r=l.REVISION_CHANGES[n],o=l.REVISION_CHANGES[e];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new a.default("No environment passed to template");if(!t||!t.main)throw new a.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0],r={strict:function(t,e,n){if(!t||!(e in t))throw new a.default('"'+e+'" not defined in '+t,{loc:n});return r.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||u.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,o=0;o<n;o++)if(null!=(t[o]&&r.lookupProperty(t[o],e)))return t[o][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(n,r,l){l.hash&&(r=o.extend({},r,l.hash),l.ids&&(l.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,l);var i=o.extend({},l,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=e.VM.invokePartial.call(this,n,r,i);if(null==s&&e.compile&&(l.partials[l.name]=e.compile(n,t.compilerOptions,e),s=l.partials[l.name](r,i)),null!=s){if(l.indent){for(var u=s.split("\n"),c=0,p=u.length;c<p&&(u[c]||c+1!==p);c++)u[c]=l.indent+u[c];s=u.join("\n")}return s}throw new a.default("The partial "+l.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var a=this.programs[t],l=this.fn(t);return e||o||r||n?a=c(this,t,l,e,n,r,o):a||(a=this.programs[t]=c(this,t,l)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=o.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function p(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;p._setup(n),!n.partial&&t.useData&&(o=function(t,e){return e&&"root"in e||((e=e?l.createFrame(e):{}).root=t),e}(e,o));var a=void 0,i=t.useBlockParams?[]:void 0;function s(e){return""+t.main(r,e,r.helpers,r.partials,o,i,a)}return t.useDepths&&(a=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(s=f(t.main,s,r,n.depths||[],o,i))(e,n)}return p.isTop=!0,p._setup=function(a){if(a.partial)r.protoAccessControl=a.protoAccessControl,r.helpers=a.helpers,r.partials=a.partials,r.decorators=a.decorators,r.hooks=a.hooks;else{var l=o.extend({},e.helpers,a.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return s.wrapHelper(t,(function(t){return o.extend({lookupProperty:n},t)}))}(r,e)}))}(l,r),r.helpers=l,t.usePartial&&(r.partials=r.mergeIfNeeded(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=o.extend({},e.decorators,a.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(a);var c=a.allowCallsToHelperMissing||n;i.moveHelperToHooks(r,"helperMissing",c),i.moveHelperToHooks(r,"blockHelperMissing",c)}},p._child=function(e,n,o,l){if(t.useBlockParams&&!o)throw new a.default("must pass block params");if(t.useDepths&&!l)throw new a.default("must pass parent depths");return c(r,e,t[e],n,0,o,l)},p},e.wrapProgram=c,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==p&&function(){n.data=l.createFrame(n.data);var t=n.fn;i=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=l.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=o.extend({},n.partials,t.partials))}(),void 0===t&&i&&(t=i),void 0===t)throw new a.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=p;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(392)),a=(r=n(728))&&r.__esModule?r:{default:r},l=n(67),i=n(638),s=n(5),u=n(293);function c(t,e,n,r,o,a,l){function i(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=l;return!l||e==l[0]||e===t.nullContext&&null===l[0]||(i=[e].concat(l)),n(t,e,t.helpers,t.partials,o.data||r,a&&[o.blockParams].concat(a),i)}return(i=f(n,i,t,l,r,a)).program=e,i.depth=l?l.length:0,i.blockParams=o||0,i}function p(){return""}function f(t,e,n,r,a,l){if(t.decorator){var i={};e=t.decorator(e,i,n,r&&r[0],a,l,r),o.extend(e,i)}return e}},558:(t,e)=>{"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},392:(t,e)=>{"use strict";e.__esModule=!0,e.extend=l,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return o.test(t)?t.replace(r,a):t},e.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},e.createFrame=function(t){var e=l({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(t){return n[t]}function l(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var i=Object.prototype.toString;e.toString=i;var s=function(t){return"function"==typeof t};s(/x/)&&(e.isFunction=s=function(t){return"function"==typeof t&&"[object Function]"===i.call(t)}),e.isFunction=s;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===i.call(t)};e.isArray=u},202:(t,e,n)=>{t.exports=n(834).default}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t;!function(t){t.BaseUrl="https://ya-praktikum.tech/api/v2",t.WSURL="wss://ya-praktikum.tech/ws/chats"}(t||(t={}));var e,r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l};!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE"}(e||(e={}));var a=function(){function n(t){this.endpoint="".concat(n.API_URL).concat(t)}return n.prototype.get=function(t,n){void 0===t&&(t="/"),void 0===n&&(n={});var o=n.data instanceof FormData?void 0:this.queryStringify(t,n.data);return this.request(this.endpoint+o,r(r({},n),{method:e.GET}),n.timeout)},n.prototype.put=function(t,n){return this.request(this.endpoint+t,r(r({},n),{method:e.PUT}),n.timeout)},n.prototype.post=function(t,n){return this.request(this.endpoint+t,r(r({},n),{method:e.POST}),n.timeout)},n.prototype.delete=function(t,n){return this.request(this.endpoint+t,r(r({},n),{method:e.DELETE}),n.timeout)},n.prototype.request=function(t,n,r){return void 0===r&&(r=5e3),new Promise((function(a,l){var i=n.headers,s=n.data,u=n.method,c=s instanceof FormData,p=new XMLHttpRequest;p.open(u,t),p.timeout=r,i&&Object.entries(i).forEach((function(t){var e=o(t,2),n=e[0],r=e[1];p.setRequestHeader(n,r)})),p.onload=function(){if(p.status<400){var t=p.response;a(t)}else l(p.response)},c||p.setRequestHeader("Content-Type","application/json"),p.withCredentials=!0,p.responseType="json",p.onabort=l,p.onerror=l,p.ontimeout=l,c?p.send(s):u!==e.GET&&s?p.send(JSON.stringify(s)):p.send()}))},n.prototype.queryStringify=function(t,e){if(e){var n="?";return Object.entries(e).forEach((function(t){var e=o(t,2),r=e[0],a=e[1];n+="".concat(r,"=").concat(a,"&")})),t+n.slice(0,-1)}return t},n.API_URL=t.BaseUrl,n}(),l=function(t,n,r){return o=void 0,a=void 0,i=function(){var o,a,l,i,s;return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){switch(u.label){case 0:switch(o=r.retries,a=r.method,l=null,a){case e.DELETE:l=t.delete.bind(t);break;case e.POST:l=t.post.bind(t);break;case e.PUT:l=t.put.bind(t);break;default:l=t.get.bind(t)}i=0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,l(n,r)];case 2:return[2,u.sent()];case 3:if(s=u.sent(),null===l)throw s;if(i===o)throw s;return i+=1,[2,l(n,r)];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(t,e){function n(t){try{s(i.next(t))}catch(t){e(t)}}function r(t){try{s(i.throw(t))}catch(t){e(t)}}function s(e){var o;e.done?t(e.value):(o=e.value,o instanceof l?o:new l((function(t){t(o)}))).then(n,r)}s((i=i.apply(o,a||[])).next())}));var o,a,l,i};const i=function(t){this.http=new a(t)};var s,u,c=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(t){function n(){var e=t.call(this,"/auth")||this;return e.create=void 0,e.read=void 0,e.update=void 0,e.delete=void 0,e}return c(n,t),n.prototype.signup=function(t){return l(this.http,"/signup",{method:e.POST,retries:1,data:t})},n.prototype.signin=function(t){return l(this.http,"/signin",{method:e.POST,retries:1,data:t})},n.prototype.getUser=function(){return p(this,void 0,void 0,(function(){return f(this,(function(t){return[2,l(this.http,"/user",{method:e.GET,retries:1})]}))}))},n.prototype.logout=function(){return p(this,void 0,void 0,(function(){return f(this,(function(t){return[2,l(this.http,"/logout",{method:e.POST,retries:1})]}))}))},n}(i);function d(t,e){return void 0===e?t.trim():t.replace(new RegExp("^[".concat(e,"]+|[").concat(e,"]+$"),"gm"),"")}function y(t,e){var n=document.querySelector(t);if(null===n)throw new Error('root not found by selector "'.concat(t,'"'));return n.innerHTML="",n.append(e.getContent()),e.dispatchComponentDidMount(),n}!function(t){t.SignInPage="/",t.SignUpPage="sign-up",t.Chat="messenger",t.EditProfilePage="settings",t.EditPasswordPage="edit-password",t.Profile="profile",t.NotFoundPage="not-found",t.ServerError="server-error"}(u||(u={}));var m=function(){function t(t,e,n,r){this.block=null,this.pathName=t,this.blockClass=e,this.props=n,this.query=r}return t.prototype.navigate=function(t){this.match(t)&&(this.pathName=t,this.render())},t.prototype.leave=function(){this.block=null},t.prototype.match=function(t){return t===this.pathName},t.prototype.render=function(){if(!this.block)return this.block=new this.blockClass(this.props),void y(this.query,this.block);y(this.query,this.block)},t}(),v=function(){function t(e){if(this.query=e,this.routes=[],this.history=window.history,this.currentRoute=null,t.instance)return t.instance;t.instance=this,this.query=e}return t.prototype.use=function(t,e,n){var r=new m(t,e,n,this.query);return this.routes.push(r),this},t.prototype.start=function(){var t=this;window.onpopstate=function(e){var n=e.currentTarget,r="/"===n.location.pathname?u.SignInPage:d(n.location.pathname,"/");t.onRoute(r)}},t.prototype.onRoute=function(t){var e=this.getRoute(t);e?(this.currentRoute&&this.currentRoute.leave(),e.render()):this.go(u.NotFoundPage)},t.prototype.getRoute=function(t){var e;return null!==(e=this.routes.find((function(e){return e.match(t)})))&&void 0!==e?e:null},t.prototype.go=function(t){this.history.pushState({},"",t),this.onRoute(t)},t.prototype.back=function(){this.history.back()},t.prototype.forward=function(){this.history.forward()},t.prototype.replace=function(t){this.history.replaceState({},"",t),this.onRoute(t)},t.prototype.getCurrentPathName=function(){return d(window.location.pathname,"/")},t}();const g=new v("#app");var _=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){var n;this.listeners[t]||(this.listeners[t]=[]),null===(n=this.listeners[t])||void 0===n||n.push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])throw new Error("Несуществующее событие: ".concat(t));this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.listeners[t]&&this.listeners[t].forEach((function(t){t.apply(void 0,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l}(e),!1))}))},t}();function b(t,e){for(var n in e)if(e.hasOwnProperty(n))try{e[n].constructor===Object?e[n]=b(t[n],e[n]):t[n]=e[n]}catch(r){t[n]=e[n]}return t}const w=function(t,e,n){if("object"!=typeof t||null===t)return t;if("string"!=typeof e)throw new Error("path must be string");var r=e.split(".").reduceRight((function(t,e){var n;return(n={})[e]=t,n}),n);return b(t,r)};var P,O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Updated="updated"}(P||(P={}));const S=new(function(t){function e(e){var n=t.call(this)||this;return n.state=e,n}return O(e,t),e.prototype.getState=function(){return this.state},e.prototype.set=function(t,e){w(this.state,t,e),this.emit(P.Updated,this.state)},e}(_))({});var k,x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t){function n(){var e=t.call(this,"/chats")||this;return e.update=void 0,e}return x(n,t),n.prototype.create=function(t){return l(this.http,"",{method:e.POST,retries:1,data:t})},n.prototype.read=function(t){return l(this.http,"",{method:e.GET,retries:1,data:t})},n.prototype.delete=function(t){return l(this.http,"",{method:e.DELETE,retries:1,data:t})},n.prototype.addUser=function(t){return l(this.http,"/users",{method:e.PUT,retries:1,data:t})},n.prototype.deleteUser=function(t,n){return l(this.http,"/users",{method:e.DELETE,retries:1,data:{users:[t],chatId:n}})},n.prototype.getToken=function(t){return l(this.http,"/token/".concat(t),{method:e.POST,retries:1})},n.prototype.editAvatar=function(t){return l(this.http,"/avatar",{method:e.PUT,retries:1,data:t})},n}(i),M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Connected="connected",t.Error="error",t.Message="message",t.Close="close"}(k||(k={}));var E=function(t){function e(e){var n=t.call(this)||this;return n.url=e,n.socket=null,n}return M(e,t),e.prototype.connect=function(){var t=this;return this.socket=new WebSocket(this.url),this.subscribe(this.socket),new Promise((function(e){t.on(k.Connected,(function(){t.setupPing(),e()}))}))},e.prototype.send=function(t){if(!this.socket)throw new Error("Socket is not connected");this.socket.send(JSON.stringify(t))},e.prototype.close=function(){var t;null===(t=this.socket)||void 0===t||t.close()},e.prototype.setupPing=function(){var t=this;this.pingInterval=setInterval((function(){return t.send({type:"ping"})}),5e3),this.on(k.Close,(function(){return clearInterval(t.pingInterval)}))},e.prototype.subscribe=function(t){var e=this;t.addEventListener("open",(function(){e.emit(k.Connected)})),t.addEventListener("close",(function(){e.emit(k.Close)})),t.addEventListener("error",(function(t){e.emit(k.Error,t)})),t.addEventListener("message",(function(t){try{var n=JSON.parse(t.data);if(!Array.isArray(n)&&n.type&&("ping"===n.type||"pong"===n.type))return;e.emit(k.Message,n)}catch(t){e.emit(k.Error,t)}}))},e}(_),A=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},j=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},T=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},L=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},I=function(){function e(){return this.sockets=new Map,this.chatsApi=new C,e.controller}return e.closeAll=function(){this.controller.sockets.forEach((function(t){t.close()}))},e.prototype.connect=function(e,n){var r;return A(this,void 0,void 0,(function(){var o,a;return j(this,(function(l){switch(l.label){case 0:return this.sockets.get(e)?[2]:(o=null===(r=S.getState().user)||void 0===r?void 0:r.id,[4,(a=new E("".concat(t.WSURL,"/").concat(o,"/").concat(e,"/").concat(n))).connect()]);case 1:return l.sent(),this.subscribe(a,e),this.sockets.set(e,a),[2]}}))}))},e.prototype.sendMessage=function(t,e){return A(this,void 0,void 0,(function(){var n,r;return j(this,(function(o){switch(o.label){case 0:return[4,this.getTransport(t)];case 1:return n=o.sent(),r={content:e,type:"message"},n.send(r),[2]}}))}))},e.prototype.fetchOldMessages=function(t,e){return A(this,void 0,void 0,(function(){var n,r;return j(this,(function(o){switch(o.label){case 0:return[4,this.getTransport(t)];case 1:return n=o.sent(),r={type:"get old",content:e},n.send(r),[2]}}))}))},e.prototype.disconnect=function(t){var e;null===(e=this.sockets.get(t))||void 0===e||e.close()},e.prototype.onMessage=function(t,e){if(Array.isArray(e)||"message"===e.type){var n="messages.".concat(t),r=S.getState().messages,o=r&&r[t];o?Array.isArray(e)?S.set(n,L(L([],T(o),!1),T(e),!1)):S.set(n,L(L([],T(o),!1),[e],!1)):S.set(n,Array.isArray(e)?e.reverse():[e])}},e.prototype.getTransport=function(t){return A(this,void 0,void 0,(function(){var e,n;return j(this,(function(r){switch(r.label){case 0:return(e=this.sockets.get(t))?[3,3]:[4,this.chatsApi.getToken(t)];case 1:return n=r.sent().token,[4,this.connect(t,n)];case 2:return r.sent(),[2,this.getTransport(t)];case 3:return[2,e]}}))}))},e.prototype.onClose=function(t){this.sockets.delete(t)},e.prototype.subscribe=function(t,e){var n=this;t.on(k.Message,(function(t){return n.onMessage(e,t)})),t.on(k.Close,(function(){return n.onClose(e)}))},e.controller=new e,e}(),D=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},B=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},F=function(){function e(){this.api=new h,this.router=new v("#app")}return e.prototype.signUp=function(t){return D(this,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.api.signup(t)];case 1:return e.sent(),[4,this.getUser()];case 2:return e.sent(),this.router.replace(u.Profile),[2]}}))}))},e.prototype.signIn=function(t){return D(this,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.api.signin(t)];case 1:return e.sent(),[4,this.getUser()];case 2:return e.sent(),this.router.replace(u.Chat),[2]}}))}))},e.prototype.getUser=function(){return D(this,void 0,void 0,(function(){var e,n,r;return B(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.api.getUser()];case 1:return(e=o.sent()).avatar=t.BaseUrl+"/resources"+e.avatar,S.set("user",e),n=this.router.getCurrentPathName(),this.router.replace(""!==n?n:u.Chat),[3,3];case 2:return r=o.sent(),this.router.replace(u.SignInPage),console.error(r),[3,3];case 3:return[2]}}))}))},e.prototype.logout=function(t){return D(this,void 0,void 0,(function(){var e;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),I.closeAll(),[4,this.api.logout()];case 1:return n.sent(),this.router.replace(null!=t?t:u.SignUpPage),S.set("user",void 0),[3,3];case 2:return e=n.sent(),console.error(e),[3,3];case 3:return[2]}}))}))},e}(),N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(t){function n(){var e=t.call(this,"/user")||this;return e.create=void 0,e.read=void 0,e.delete=void 0,e}return N(n,t),n.prototype.update=function(t){return l(this.http,"/profile",{method:e.PUT,retries:1,data:t})},n.prototype.searchUser=function(t){return l(this.http,"/search",{method:e.POST,retries:1,data:{login:t}})},n.prototype.editPassword=function(t,n){return l(this.http,"/password",{method:e.PUT,retries:1,data:{oldPassword:t,newPassword:n}})},n.prototype.editAvatar=function(t){return l(this.http,"/profile/avatar",{method:e.PUT,retries:1,data:t})},n}(i),R=function(){return R=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},R.apply(this,arguments)},H=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},V=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},G=function(){function e(){this.chatsApi=new C,this.usersApi=new U,this.messagesController=new I}return e.prototype.getChats=function(e){return H(this,void 0,void 0,(function(){var n,r,o=this;return V(this,(function(a){switch(a.label){case 0:return[4,this.chatsApi.read(e)];case 1:return n=a.sent(),[4,Promise.all(n.map((function(e){return H(o,void 0,void 0,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.getToken(e.id)];case 1:return n=r.sent(),[2,R(R({},e),{token:n,avatar:e.avatar&&t.BaseUrl+"/resources"+e.avatar})]}}))}))})))];case 2:return r=a.sent(),S.set("chats",r),[2]}}))}))},e.prototype.selectChat=function(t){var e;return H(this,void 0,void 0,(function(){var n;return V(this,(function(r){return(n=null===(e=S.getState().chats)||void 0===e?void 0:e.find((function(e){return e.id===t})))&&S.set("selectedChat",{avatarSrc:n.avatar,chatName:n.title,id:t}),[2]}))}))},e.prototype.createChat=function(t){return H(this,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.chatsApi.create({title:t})];case 1:return e.sent(),[4,this.getChats({limit:50,offset:0})];case 2:return e.sent(),[2]}}))}))},e.prototype.getToken=function(t){return H(this,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.chatsApi.getToken(t)];case 1:return[2,e.sent().token]}}))}))},e.prototype.addUser=function(t,e){return H(this,void 0,void 0,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.searchUser(t)];case 1:return n=r.sent(),[4,this.chatsApi.addUser({chatId:e,users:[n[0].id]})];case 2:return r.sent(),[2]}}))}))},e.prototype.deleteUser=function(t,e){return H(this,void 0,void 0,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.searchUser(t)];case 1:return n=r.sent(),[4,this.chatsApi.deleteUser(n[0].id,e)];case 2:return r.sent(),[2]}}))}))},e.prototype.editAvatar=function(e){var n,r;return H(this,void 0,void 0,(function(){var o,a,l,i,s,u,c,p,f;return V(this,(function(h){switch(h.label){case 0:return[4,this.chatsApi.editAvatar(e)];case 1:return o=h.sent(),a=o.avatar,l=o.id,i=null===(n=S.getState().chats)||void 0===n?void 0:n.find((function(t){return t.id===l})),s=null===(r=S.getState().chats)||void 0===r?void 0:r.findIndex((function(t){return t.id===l})),u=S.getState().chats,c=u&&function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l}(u),!1),p=t.BaseUrl+"/resources"+a,i&&c&&void 0!==s&&(S.set("selectedChat.avatarSrc",p),f=R(R({},i),{avatar:p}),c[s]=f,S.set("chats",c)),[2]}}))}))},e.prototype.deleteChat=function(t){var e;return H(this,void 0,void 0,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.chatsApi.delete({chatId:t})];case 1:return r.sent(),this.messagesController.disconnect(t),n=null===(e=S.getState().chats)||void 0===e?void 0:e.filter((function(e){return e.id!==t})),S.set("chats",n),S.set("selectedChat",void 0),S.set("messages.".concat(t),void 0),[2]}}))}))},e}(),W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(){return Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Z.apply(this,arguments)};function q(t,e){return function(t){function n(n){var r=Object.entries(e).reduce((function(t,e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l}(e,2),r=n[0],o=n[1];return t[r]=o,t}),{});return t.call(this,Z(Z({},n),r))||this}return W(n,t),n}(t)}function z(t){return function(t){return"object"==typeof t&&null!==t&&t.constructor===Object&&"[object Object]"===Object.prototype.toString.call(t)}(t)||Array.isArray(t)}var Y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},$=function(t){return"number"==typeof t&&isNaN(t)},Q=function(t,e){var n,r;if(typeof t!=typeof e)return!1;if(void 0===t||void 0===e)return t===e;var o=Object.entries(t),a=Object.entries(e),l=0===o.length,i=0===a.length,s=l&&i;if(!s&&(l||i))return!1;if(s)return!0;if(o.length!==a.length)return!1;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=u.next();!c.done;c=u.next()){var p=Y(c.value,2),f=p[0],h=p[1];if(!(f in e))return!1;var d=e[f];if(z(h)&&z(d)){if(Q(h,d))continue;return!1}if(h!==d)return $(h)&&$(d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!0};const J=Q;var X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},K.apply(this,arguments)};function tt(t){return function(e){var n;return function(e){function r(r){var o=this;return n=t(S.getState()),o=e.call(this,K(K({},r),n))||this,S.on(P.Updated,(function(){var e=t(S.getState());J(n,e)||(n=K({},e),o.setProps(K({},e)))})),o}return X(r,e),r}(e)}}var et,nt=function(){return nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nt.apply(this,arguments)},rt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l};!function(t){t.INIT="init",t.FLOW_CDM="flow:component-did-mount",t.FLOW_CDU="flow:component-did-update",t.FLOW_RENDER="flow:render"}(et||(et={}));var ot,at=function(){function t(t){this.id=Math.random().toString(16).slice(6),this._element=null,this.eventBus=new _,this.registerEvents();var e=this.separatePropsFromChildren(t),n=e.props,r=e.children;this.children=r,this.props=this.makePropsProxy(n),this.eventBus.emit(et.INIT)}return t.prototype.separatePropsFromChildren=function(e){var n={},r={};return Object.entries(e).forEach((function(e){var o=rt(e,2),a=o[0],l=o[1];Array.isArray(l)&&l.length>0&&l.every((function(e){return e instanceof t}))||l instanceof t?r[a]=l:n[a]=l})),{props:n,children:r}},t.prototype._render=function(){var t=this.render().firstElementChild;this._element&&this._element.replaceWith(t),this._element=t,this.addEvents()},t.prototype.render=function(){return new DocumentFragment},t.prototype.compile=function(t,e){var n=nt({},e);Object.entries(this.children).forEach((function(t){var e=rt(t,2),r=e[0],o=e[1];o&&(Array.isArray(o)?n[r]=o.map((function(t){return'<div data-id="'.concat(t.id,'"></div>')})):n[r]='<div data-id="'.concat(o.id,'"></div>'))}));var r=t(n),o=document.createElement("template");o.innerHTML=r;var a=function(t){var e,n=o.content.querySelector('[data-id="'.concat(t.id,'"]'));n&&(null===(e=t.getContent())||void 0===e||e.append.apply(e,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([],rt(Array.from(n.childNodes)),!1)),n.replaceWith(t._element))};return Object.entries(this.children).forEach((function(t){var e=rt(t,2),n=(e[0],e[1]);n&&(Array.isArray(n)?n.forEach(a):a(n))})),o.content},t.prototype.getContent=function(){return this._element},t.prototype.setProps=function(t){t&&Object.assign(this.props,t)},t.prototype.addEvents=function(){var t=this,e=this.props.events,n=void 0===e?{}:e;Object.keys(n).forEach((function(e){var r;null===(r=t._element)||void 0===r||r.addEventListener(e,n[e])}))},t.prototype.makePropsProxy=function(t){var e=this;return new Proxy(t,{get:function(t,e){var n=t[e];return"function"==typeof n?n.bind(t):n},set:function(t,n,r){var o=nt({},t);return t[n]=r,e.eventBus.emit(et.FLOW_CDU,o,t),!0},deleteProperty:function(){throw new Error("Нет прав")}})},t.prototype._componentDidMount=function(){this.componentDidMount()},t.prototype.componentDidMount=function(){},t.prototype.dispatchComponentDidMount=function(){this.eventBus.emit(et.FLOW_CDM),Object.values(this.children).forEach((function(t){t&&(Array.isArray(t)?t.forEach((function(t){return t.dispatchComponentDidMount()})):t.dispatchComponentDidMount())}))},t.prototype.hide=function(){},t.prototype._componentDidUpdate=function(t,e){this.componentDidUpdate(t,e)&&this.eventBus.emit(et.FLOW_RENDER)},t.prototype.componentDidUpdate=function(t,e){return!J(t,e)},t.prototype.registerEvents=function(){this.eventBus.on(et.INIT,this._init.bind(this)),this.eventBus.on(et.FLOW_RENDER,this._render.bind(this)),this.eventBus.on(et.FLOW_CDM,this._componentDidMount.bind(this)),this.eventBus.on(et.FLOW_CDU,this._componentDidUpdate.bind(this))},t.prototype._init=function(){this.init(),this.eventBus.emit(et.FLOW_RENDER)},t.prototype.init=function(){},t}(),lt=n(941),it=n.n(lt),st=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Submit="submit",t.Attachment="attachment",t.Custom="custom"}(ot||(ot={}));var ut,ct,pt=function(t){function e(e){return t.call(this,e)||this}return st(e,t),e.prototype.render=function(){return this.compile(it(),this.props)},e}(at),ft=n(325),ht=n.n(ft),dt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(t){function e(e){return t.call(this,e)||this}return dt(e,t),e.prototype.render=function(){return this.compile(ht(),this.props)},e}(at),mt=n(179),vt=n.n(mt),gt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(t){function e(e){return t.call(this,e)||this}return gt(e,t),e.prototype.getValues=function(){var t={};return this.children.inputs.forEach((function(e){var n=e.props.name;t[n]=e.file})),t},e.prototype.componentDidMount=function(){var t=this;this.props.events={submit:function(e){e.preventDefault(),t.props.submit(t.getValues()),t.props.shouldCleanOnSubmit&&t.cleanValues()}},this.props.validationRules},e.prototype.cleanValues=function(){this.children.inputs.forEach((function(t){t.props.value=""}))},e.prototype.render=function(){return this.compile(vt(),this.props)},e}(at),bt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(e){var n=t.call(this,e)||this;return n.props.validationRules&&(n.validationBus=new _),n}return bt(e,t),e.prototype.getValues=function(){var t={};return this.children.inputs.forEach((function(e){var n=e.getContent(),r=n.name;t[r]=n.value})),t},e.prototype.componentDidMount=function(){var t=this;this.props.events={submit:function(e){e.preventDefault(),t.validationBus&&(t.triggerFormValidation(),t.children.fields.some((function(t){return t.props.errorText&&""!==t.props.errorText})))||(t.props.submit(t.getValues()),t.props.shouldCleanOnSubmit&&t.cleanValues())}},this.subscribeInputsToValidationBus(),this.props.validationRules},e.prototype.subscribeInputsToValidationBus=function(){var t=this;this.validationBus&&this.children.inputs.forEach((function(e){var n,r=e.props.name;e.props.events={blur:function(n){t.triggerInputValidation(r,e.value)}},null===(n=t.validationBus)||void 0===n||n.on(r,(function(e){return t.validationListener(e,r)}))}))},e.prototype.triggerInputValidation=function(t,e){this.validationBus&&this.validationBus.emit(t,e)},e.prototype.triggerFormValidation=function(){var t=this;this.children.inputs.forEach((function(e){if(t.validationBus){var n=e.props.name;t.validationBus.emit(n,e.value)}}))},e.prototype.validationListener=function(t,e){var n=this.props.validationRules&&this.props.validationRules[e];if(n){var r=n(t),o=this.children.fields.filter((function(t){return t.props.name===e}));if(!o[0])throw new Error("Поле с имененм ".concat(e," не зарегистрировано"));if(o.length>1)throw new Error("Имена полей ввода должны быть уникальными");var a=o[0];null!==r&&(a.props.errorText=r),null===r&&a.props.errorText&&(a.props.errorText="")}},e.prototype.cleanValues=function(){this.children.inputs.forEach((function(t){t.props.value=void 0===t.props.value?"":void 0}))},e.prototype.render=function(){return this.compile(vt(),this.props)},e}(at),Pt=n(306),Ot=n.n(Pt),St=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(t){function e(e){return t.call(this,e)||this}return St(e,t),Object.defineProperty(e.prototype,"file",{get:function(){var t=this.getContent();return t.files&&t.files[0]},enumerable:!1,configurable:!0}),e.prototype.render=function(){return this.compile(Ot(),this.props)},e}(at),xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(t){function e(e){return t.call(this,e)||this}return xt(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getContent().value},enumerable:!1,configurable:!0}),e.prototype.render=function(){return this.compile(Ot(),this.props)},e}(at),Mt=n(812),Et=n.n(Mt),At=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(t){function e(e){return t.call(this,e)||this}return At(e,t),e.prototype.init=function(){this.children.CloseBtn=new pt({label:"",noValidation:!0,styles:"closeBtn",events:{click:this.props.onClose}})},e.prototype.render=function(){return this.compile(Et(),this.props)},e}(at),Tt=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},Lt=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},It=n(625),Dt=n.n(It),Bt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ft.apply(this,arguments)},Nt=function(t){function e(e){return t.call(this,Ft(Ft({},e),{messageReceivedImgPath:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAYAAACTphZWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAChSURBVHgBdYyxCQJBFET//7crBiecHWwJi2LuVaAdqMHBoYElaAsmIhhZgXaw5irYyYGeIHi7634DQdEJhmHmMQh/1MovQ1e3O7hDEpHsnZbxgnjQWaE/wPF1hoRTeZMqQmnQ+Sb3pPNCRUKY9qQcvEGAPj1w5ARs0fvNcdWY84ZsnazUTngT4j406hf4emY7rOMzVZiGmNhalVphu98g6wn0STg3g9uIIwAAAABJRU5ErkJggg=="}))||this}return Bt(e,t),e.prototype.render=function(){return this.compile(Dt(),this.props)},e}(at),Ut=n(848),Rt=n.n(Ut),Ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Message="message"}(ct||(ct={}));var Vt=((ut={})[ct.Message]=function(t){return function(t,e,n){var r=t.trim();return/(.|\s)*\S(.|\s)*/.test(r)?null:"Пустое поле недопустимо"}(t)},ut),Gt=function(t){function e(e){return t.call(this,e)||this}return Ht(e,t),e.prototype.init=function(){var t=this;this.children.AttachmentBtn=new pt({stylesType:ot.Attachment,label:"",noValidation:!0});var e=new Ct({isTextArea:!0,name:"message",inputStyle:"newMessage__textArea",placeholder:"Сообщение"}),n=new yt({name:"message",label:"",input:e,errorStyle:"newMessage__errorText",labelStyle:"newMessage__inputLabel"});this.children.Form=new wt({fields:[n],inputs:[e],submit:function(e){var n=e.message;t.props.sendMessage(n)},submitBtn:new pt({label:"→",stylesType:ot.Submit,styles:"newMessage__submitBtn",noValidation:!0}),formClass:"newMessage__form",validationRules:Vt,shouldCleanOnSubmit:!0})},e.prototype.render=function(){return this.compile(Rt(),this.children)},e}(at),Wt=n(621),Zt=n.n(Wt),qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=function(t){function e(e){return t.call(this,e)||this}return qt(e,t),e.prototype.render=function(){return this.compile(Zt(),this.props)},e}(at),Yt=n(753),$t=n.n(Yt),Qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(t){function e(){return t.call(this,{})||this}return Qt(e,t),e.prototype.render=function(){return this.compile($t(),this.props)},e}(at),Xt=function(t){var e=t.clickDeleteChat,n=t.clickAddUser,r=t.clickDeleteUser,o=t.clickEditAvatar;return[new pt({label:"Удалить чат",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__actionBtn",events:{click:e}}),new pt({label:"Добавить пользователя",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__actionBtn",events:{click:n}}),new pt({label:"Удалить пользователя",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__actionBtn",events:{click:r}}),new pt({label:"Изменить аватар",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__actionBtn",events:{click:o}})]},Kt=function(t){var e=t.clickCreateChat;return[new pt({label:"Создать чат",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__actionBtn",events:{click:e}})]},te=n(144),ee=n.n(te),ne=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){return re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},re.apply(this,arguments)},oe=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},ae=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},le=null,ie=function(t){function e(e){return t.call(this,re(re({},e),{Modal:null,areSettingsOpen:!1}))||this}return ne(e,t),e.prototype.toggleSettings=function(){this.props.areSettingsOpen=!this.props.areSettingsOpen},e.prototype.init=function(){var t=this;this.children.ChatSettings=new zt({isOpen:!1,buttons:Kt({clickCreateChat:function(){return t.props.Modal="create-chat"}}),openBtn:new pt({label:"",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__settingsBtn",child:new Jt,events:{click:this.toggleSettings.bind(this)}})}),this.children.ChatMessageInput=new Gt({sendMessage:function(e){t.props.chatId&&t.props.messagesController.sendMessage(t.props.chatId,e)}})},e.prototype.closeModal=function(){this.props.Modal=null},e.prototype.componentDidUpdate=function(t,e){var n,r=this;if(t.Modal!==e.Modal){this.props.areSettingsOpen=!1;var o=function(t,e,n,r){var o=new Ct({name:"login",inputStyle:"inputField__input"}),a=new yt({input:o,label:"Логин",name:"login"}),l=new wt({fields:[a],inputs:[o],submitBtn:new pt({label:"Добавить пользователя",stylesType:ot.Submit}),submit:function(r){var o=r.login;return Tt(void 0,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return null===e?[3,2]:[4,n.addUser(o,e)];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}),i=new wt({fields:[a],inputs:[o],submitBtn:new pt({label:"Удалить пользователя",stylesType:ot.Submit}),submit:function(r){var o=r.login;return Tt(void 0,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return null===e?[3,2]:[4,n.deleteUser(o,e)];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}),s=new kt({type:"file",name:"avatar",id:"avatar",inputStyle:"modal__fileInput"}),u=new yt({input:s,label:"Выберите файл",name:"avatar",labelStyle:"modal__fileInputLabel"}),c=new _t({fields:[u],inputs:[s],submit:function(r){var o=r.avatar;return Tt(void 0,void 0,void 0,(function(){var r;return Lt(this,(function(a){switch(a.label){case 0:return o&&null!==e?((r=new FormData).append("avatar",o),r.append("chatId",e.toString()),[4,n.editAvatar(r)]):[3,2];case 1:a.sent(),a.label=2;case 2:return t(),[2]}}))}))},submitBtn:new pt({label:"Поменять аватар",stylesType:ot.Submit}),formClass:"modal__fileForm"}),p=new Ct({name:"chatName",inputStyle:"inputField__input"}),f=new yt({input:p,label:"Имя чата",name:"chatName"}),h=new wt({fields:[f],inputs:[p],submit:function(e){var r=e.chatName;return Tt(void 0,void 0,void 0,(function(){return Lt(this,(function(e){switch(e.label){case 0:return[4,n.createChat(r)];case 1:return e.sent(),t(),[2]}}))}))},submitBtn:new pt({label:"Создать чат",stylesType:ot.Submit}),formClass:"modal__fileForm"}),d=new pt({label:"Подтвердить",stylesType:ot.Submit,type:"submit",events:{click:function(){return Tt(void 0,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return e?[4,n.deleteChat(e)]:[3,2];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}});switch(r){case"delete-chat":return new jt({isOpen:!0,content:[d],header:"Удалить?",onClose:t});case"add-user":return new jt({isOpen:!0,header:"Добавить пользователя",content:[l],onClose:t});case"delete-user":return new jt({isOpen:!0,header:"Удалить пользователя",content:[i],onClose:t});case"change-avatar":return new jt({isOpen:!0,header:"Поменять аватар",content:[c],onClose:t});case"create-chat":return new jt({isOpen:!0,header:"Создать чат",content:[h],onClose:t});default:return}}(this.closeModal.bind(this),null!==(n=this.props.chatId)&&void 0!==n?n:null,this.props.chatsController,e.Modal);o&&o.dispatchComponentDidMount(),this.children.Modal=o}return t.areSettingsOpen!==e.areSettingsOpen&&(this.children.ChatSettings.props.isOpen=!!e.areSettingsOpen,e.areSettingsOpen?(le=function(t){t.target.classList.contains("chatSettings__settingsBtn")||r.toggleSettings()},document.addEventListener("click",le)):le&&(document.removeEventListener("click",le),le=null)),t.isChatSelected!==e.isChatSelected&&(e.isChatSelected?(this.children.ChatSettings=new zt({isOpen:!1,buttons:Xt({clickDeleteChat:function(){return r.props.Modal="delete-chat"},clickAddUser:function(){return r.props.Modal="add-user"},clickDeleteUser:function(){return r.props.Modal="delete-user"},clickEditAvatar:function(){return r.props.Modal="change-avatar"}}),openBtn:new pt({label:"",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__settingsBtn",child:new Jt,events:{click:this.toggleSettings.bind(this)}})}),this.renderMessages()):this.children.ChatSettings=new zt({isOpen:!1,buttons:Kt({clickCreateChat:function(){return r.props.Modal="create-chat"}}),openBtn:new pt({label:"",noValidation:!0,stylesType:ot.Custom,styles:"chatSettings__settingsBtn",child:new Jt,events:{click:this.toggleSettings.bind(this)}})})),J(t.chatMessages,e.chatMessages)||this.renderMessages(),!J(t,e)},e.prototype.renderMessages=function(){var t,e=this;this.children.chatMessages=null===(t=this.props.chatMessages)||void 0===t?void 0:t.map((function(t){var n=new Date(t.time),r="".concat(n.getHours(),":").concat(n.getMinutes());return new Nt({isMessageSent:t.user_id===e.props.userId,messageTime:r,textMessage:t.content})}))},e.prototype.render=function(){return this.compile(ee(),this.props)},e}(at),se=q(ie,{chatsController:new G,messagesController:new I});const ue=tt((function(t){var e,n,r,o,a=null===(e=t.selectedChat)||void 0===e?void 0:e.id;return{isChatSelected:void 0!==t.selectedChat,chatId:a,chatMessages:void 0!==a&&t.messages&&a in t.messages?ae([],oe(t.messages[a]),!1):[],userId:null===(n=t.user)||void 0===n?void 0:n.id,chatName:null===(r=t.selectedChat)||void 0===r?void 0:r.chatName,avatarSrc:null===(o=t.selectedChat)||void 0===o?void 0:o.avatarSrc}}))(se);var ce;!function(t){t.DDMMYY="dd.mm.yy",t.HHMM="hh.mm"}(ce||(ce={}));var pe=function(t){var e=t.getDate(),n=e.toString();e<10&&(n="0".concat(e));var r=t.getMonth(),o=r.toString();r<10&&(o="0".concat(o));var a=t.getFullYear().toString().substring(2,4);return"".concat(n,".").concat(o,".").concat(a)},fe=function(t){var e=t.getHours(),n=e.toString();e<10&&(n="0".concat(n));var r=t.getHours(),o=r.toString();return r<10&&(o="0".concat(r)),"".concat(n,":").concat(o)},he=n(305),de=n.n(he),ye=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(t){function e(e){return t.call(this,e)||this}return ye(e,t),e.prototype.render=function(){return this.compile(de(),this.props)},e}(at),ve=n(843),ge=n.n(ve),_e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(){return be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},be.apply(this,arguments)},we=function(t){function e(e){return t.call(this,be(be({},e),{isMessageSelected:e.chatId===e.selectedChatId}))||this}return _e(e,t),e.prototype.componentDidUpdate=function(t,e){return t.selectedChatId!==e.selectedChatId&&(this.props.isMessageSelected=this.props.chatId===e.selectedChatId),e.selectedChatAvatar&&t.selectedChatAvatar!==e.selectedChatAvatar&&this.props.isMessageSelected&&(this.props.imgSrc=e.selectedChatAvatar),!J(t,e)},e.prototype.render=function(){return this.compile(ge(),this.props)},e}(at),Pe=function(t){var e,n;return{selectedChatId:null===(e=t.selectedChat)||void 0===e?void 0:e.id,selectedChatAvatar:null===(n=t.selectedChat)||void 0===n?void 0:n.avatarSrc}},Oe=function(){return tt(Pe)(we)},Se=n(35),ke=n.n(Se),xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(){return Ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ce.apply(this,arguments)},Me=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},Ee=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ae=function(t){function e(e){return t.call(this,e)||this}return xe(e,t),e.prototype.init=function(){return Me(this,void 0,void 0,(function(){var t=this;return Ee(this,(function(e){return this.children.ProfileLink=new me({href:"/",text:"Профиль >",events:{click:function(e){e.preventDefault(),t.props.router.go(u.Profile)}},styles:"messages__profileLink"}),[2]}))}))},e.prototype.componentDidMount=function(){var t;return Me(this,void 0,void 0,(function(){var e=this;return Ee(this,(function(n){switch(n.label){case 0:return[4,this.props.chatsController.getChats({limit:50,offset:0})];case 1:return n.sent(),null===(t=this.props.chats)||void 0===t||t.forEach((function(t){return Me(e,void 0,void 0,(function(){return Ee(this,(function(e){switch(e.label){case 0:return[4,this.props.messagesController.connect(t.id,t.token)];case 1:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.componentDidUpdate=function(t,e){return J(t.lastChatMessages,e.lastChatMessages)?!J(t,e):(this.children.chats=this.createChats(),!0)},e.prototype.render=function(){return this.compile(ke(),Ce(Ce({},this.props),this.children))},e.prototype.createChats=function(){var t,e=this.props.chatsController,n=this.props.messagesController,r=this.props,o=null===(t=this.props.lastChatMessages)||void 0===t?void 0:t.map((function(t){var o,a,l=Oe(),i="";if(t.messageDate){var s=new Date(t.messageDate);i=function(t,e){switch(e){case ce.DDMMYY:return pe(t);case ce.HHMM:return fe(t)}}(s,(o=s,a=(new Date).getTime()-o.getTime(),Math.floor(a/864e5))>=1?ce.DDMMYY:ce.HHMM)}return new l(Ce(Ce({},t),{messageDate:i,events:{click:function(){return Me(this,void 0,void 0,(function(){return Ee(this,(function(o){switch(o.label){case 0:return r.messages&&r.messages[t.chatId]&&r.messages[t.chatId].length>0?(e.selectChat(t.chatId),[2]):[4,n.fetchOldMessages(t.chatId,0)];case 1:return o.sent(),e.selectChat(t.chatId),[2]}}))}))}}}))}));return o},e}(at),je=q(Ae,{chatsController:new G,messagesController:new I,router:new v("#app")});const Te=tt((function(t){var e,n;return{lastChatMessages:null===(e=t.chats)||void 0===e?void 0:e.map((function(t){var e,n,r;return{chatName:t.title,message:null===(e=t.last_message)||void 0===e?void 0:e.content,messageDate:(null===(n=t.last_message)||void 0===n?void 0:n.time)&&new Date(null===(r=t.last_message)||void 0===r?void 0:r.time).toString(),imgSrc:t.avatar,unreadMessagesCount:t.unread_count,isMessageReceived:0===t.unread_count,isMessageSelected:!1,chatId:t.id}})),chats:null===(n=t.chats)||void 0===n?void 0:n.map((function(t){return{id:t.id,token:t.token}})),messages:t.messages}}))(je);var Le=n(139),Ie=n.n(Le),De=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Be=function(t){function e(e){return t.call(this,e)||this}return De(e,t),e.prototype.init=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return this.children.Chat=new ue({}),this.children.MessagesList=new Te({}),[2]}))},new((n=void 0)||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}));var t,e,n,r},e.prototype.render=function(){return this.compile(Ie(),this.children)},e}(at);var Fe,Ne,Ue=n(217),Re=n.n(Ue),He=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(t){function e(e){return t.call(this,e)||this}return He(e,t),e.prototype.render=function(){return this.compile(Re(),this.props)},e}(at),Ge=n(340),We=n.n(Ge),Ze=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(t){function e(e){return t.call(this,e)||this}return Ze(e,t),e.prototype.render=function(){return this.compile(We(),this.props)},e}(at),ze=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},Ye=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},$e=function(){function e(){this.usersApi=new U}return e.prototype.editProfile=function(e){return ze(this,void 0,void 0,(function(){var n;return Ye(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.update(e)];case 1:return(n=r.sent()).avatar=n.avatar&&t.BaseUrl+"/resources"+n.avatar,S.set("user",n),[2]}}))}))},e.prototype.editPassword=function(t,e){return this.usersApi.editPassword(t,e)},e.prototype.editAvatar=function(e){return ze(this,void 0,void 0,(function(){var n;return Ye(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.editAvatar(e)];case 1:return(n=r.sent()).avatar=t.BaseUrl+"/resources"+n.avatar,S.set("user",n),[2]}}))}))},e}(),Qe=n(236),Je=n.n(Qe),Xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.OldPassword="oldPassword",t.NewPassword="newPassword",t.NewPasswordAgain="newPasswordAgain",t.Login="login"}(Ne||(Ne={}));var Ke=function(t,e,n){var r=t.trim();return e.test(r)?null:n},tn=((Fe={})[Ne.OldPassword]=function(t){return Ke(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},Fe[Ne.NewPassword]=function(t){return Ke(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},Fe[Ne.NewPasswordAgain]=function(t){return Ke(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},Fe[Ne.Login]=function(t){return Ke(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},Fe),en=function(t){function e(e){return t.call(this,e)||this}return Xe(e,t),e.prototype.init=function(){this.children.GoBackBtn=new qe({events:{click:function(){return g.back()}}}),this.children.AvatarInput=new Ve({avatarSrc:this.props.avatarSrc});var t=new Ct({inputStyle:"editProfileForm__input",type:"password",name:Ne.OldPassword}),e=new Ct({inputStyle:"editProfileForm__input",type:"password",name:Ne.NewPassword}),n=new Ct({inputStyle:"editProfileForm__input",type:"password",name:Ne.NewPasswordAgain}),r=[t,e,n],o=[new yt({name:Ne.OldPassword,label:"Старый пароль",input:t,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:Ne.NewPassword,label:"Новый пароль",input:e,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:Ne.NewPasswordAgain,label:"Повторите пароль",input:n,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"})],a=new pt({label:"Сохранить",stylesType:ot.Submit,styles:"authForm__signUpBtn"}),l=this.props;this.children.form=new wt({fields:o,submitBtn:a,submit:function(t){var e,n,r,o,i=t.newPassword,s=t.oldPassword;return e=this,n=void 0,o=function(){var t,e;return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,l.profileController.editPassword(s,i)];case 1:return n.sent(),l.authController.logout(u.SignInPage),[3,3];case 2:return t=n.sent(),e=t.reason,a.props.actionError=e,[3,3];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,a){function l(t){try{s(o.next(t))}catch(t){a(t)}}function i(t){try{s(o.throw(t))}catch(t){a(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(l,i)}s((o=o.apply(e,n||[])).next())}))},inputs:r,validationRules:tn,formClass:"editProfileForm"})},e.prototype.render=function(){return this.compile(Je(),this.children)},e}(at),nn=tt((function(t){var e;return{avatarSrc:null===(e=t.user)||void 0===e?void 0:e.avatar}}))(en);const rn=q(nn,{profileController:new $e,authController:new F});var on,an,ln=n(964),sn=n.n(ln),un=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(){return cn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},cn.apply(this,arguments)},pn=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}))},fn=function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(t){t.Name="first_name",t.Surname="second_name",t.Login="login",t.Email="email",t.Phone="phone"}(an||(an={}));var hn=function(t,e,n){var r=t.trim();return e.test(r)?null:n},dn=((on={})[an.Name]=function(t){return hn(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},on[an.Surname]=function(t){return hn(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},on[an.Login]=function(t){return hn(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},on[an.Email]=function(t){return hn(t,/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,"латиница, может включать цифры и спецсимволы вроде дефиса, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы")},on[an.Phone]=function(t){return hn(t,/^\+?[0-9]{10,15}$/,"От 10 до 15 символов, состоит из цифр, может начинается с плюса")},on),yn=function(t){function e(e){return t.call(this,e)||this}return un(e,t),e.prototype.init=function(){this.children.GoBackBtn=new qe({events:{click:function(){return g.back()}}}),this.renderForm()},e.prototype.componentDidUpdate=function(t,e){return J(t.user,e.user)?!J(t,e):(this.renderForm(),!0)},e.prototype.closeModal=function(){this.children.AvatarModal=void 0,this.props.isModalOpen=!1},e.prototype.submitAvatar=function(t){return pn(this,void 0,void 0,(function(){var e;return fn(this,(function(n){switch(n.label){case 0:return(e=new FormData).append("avatar",t),[4,this.props.profileController.editAvatar(e)];case 1:return n.sent(),[2]}}))}))},e.prototype.renderModal=function(){var t=this,e=new kt({type:"file",name:"avatar",id:"avatar",inputStyle:"modal__fileInput"}),n=new yt({input:e,label:"Выберите файл",name:"avatar",labelStyle:"modal__fileInputLabel"}),r=new _t({fields:[n],inputs:[e],submit:function(e){var n=e.avatar;return pn(t,void 0,void 0,(function(){return fn(this,(function(t){switch(t.label){case 0:return n?[4,this.submitAvatar(n)]:[3,2];case 1:t.sent(),this.closeModal(),t.label=2;case 2:return[2]}}))}))},submitBtn:new pt({label:"Поменять аватар",stylesType:ot.Submit,type:"submit"}),formClass:"modal__fileForm"}),o=new jt({content:[r],header:"Изменить аватар",isOpen:!0,onClose:this.closeModal.bind(this)});this.children.AvatarModal=o,this.props.isModalOpen=!0,o.dispatchComponentDidMount()},e.prototype.renderForm=function(){var t,e,n,r,o,a,l,i,s,u,c,p,f=this.renderModal.bind(this),h=new pt({label:"",noValidation:!0,styles:"editProfileForm__openAvatarModal profile__changeAvatarBtn",events:{click:f}});this.children.AvatarInput=new Ve({openModalBtn:h,avatarSrc:null===(t=this.props.user)||void 0===t?void 0:t.avatar});var d=new Ct({inputStyle:"editProfileForm__input",type:"text",name:"first_name",value:null!==(n=null===(e=this.props.user)||void 0===e?void 0:e.first_name)&&void 0!==n?n:""}),y=new Ct({inputStyle:"editProfileForm__input",type:"text",name:"second_name",value:null!==(o=null===(r=this.props.user)||void 0===r?void 0:r.second_name)&&void 0!==o?o:""}),m=new Ct({inputStyle:"editProfileForm__input",type:"text",name:"login",value:null!==(l=null===(a=this.props.user)||void 0===a?void 0:a.login)&&void 0!==l?l:""}),v=new Ct({inputStyle:"editProfileForm__input",type:"email",name:"email",value:null!==(s=null===(i=this.props.user)||void 0===i?void 0:i.email)&&void 0!==s?s:""}),g=new Ct({inputStyle:"editProfileForm__input",type:"tel",name:"phone",value:null!==(c=null===(u=this.props.user)||void 0===u?void 0:u.phone.toString())&&void 0!==c?c:""}),_=[d,y,m,v,g],b=[new yt({name:"first_name",label:"Имя",input:d,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:"second_name",label:"Фамилия",input:y,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:"login",label:"Логин *",input:m,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:"email",label:"Email *",input:v,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new yt({name:"phone",label:"Телефон *",input:g,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"})],w=this.props.profileController,P=null!==(p=this.props.user)&&void 0!==p?p:{};this.children.Form=new wt({fields:b,submitBtn:new pt({label:"Сохранить",stylesType:ot.Submit,styles:"authForm__signUpBtn"}),submit:function(t){var e;return pn(this,void 0,void 0,(function(){return fn(this,(function(n){switch(n.label){case 0:return[4,w.editProfile(cn(cn(cn({},P),t),{display_name:null!==(e=P.display_name)&&void 0!==e?e:""}))];case 1:return n.sent(),[2]}}))}))},inputs:_,validationRules:dn,formClass:"editProfileForm"}),this.children.Form.componentDidMount()},e.prototype.render=function(){return this.compile(sn(),this.children)},e}(at);const mn=q(tt((function(t){return t.user?{user:cn({},t.user)}:{user:void 0}}))(yn),{profileController:new $e});var vn=n(738),gn=n.n(vn),_n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(){return bn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bn.apply(this,arguments)},wn=function(t){function e(e){return t.call(this,e)||this}return _n(e,t),e.prototype.init=function(){this.children.Link=new me({href:"/",text:"Назад к чатам",events:{click:function(t){t.preventDefault(),g.go(u.Chat)}}})},e.prototype.render=function(){return this.compile(gn(),bn({Link:this.children.Link},this.props))},e}(at),Pn=n(19),On=n.n(Pn),Sn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kn=function(){return kn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kn.apply(this,arguments)},xn=function(t){function e(e){return t.call(this,e)||this}return Sn(e,t),e.prototype.init=function(){var t=this.props.router,e=this.props.authController;this.children.GoBackBtn=new qe({events:{click:function(){t.back()}}}),this.children.ChangeDataLink=new me({href:"/",text:"Изменить данные",styles:"profile__link",events:{click:function(e){e.preventDefault(),t.go(u.EditProfilePage)}}}),this.children.LogoutLink=new me({href:"/",text:"Выйти",styles:"profile__link",events:{click:function(t){return n=this,r=void 0,a=function(){return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return t.preventDefault(),[4,e.logout()];case 1:return n.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function l(t){try{s(a.next(t))}catch(t){e(t)}}function i(t){try{s(a.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(l,i)}s((a=a.apply(n,r||[])).next())}));var n,r,o,a}}}),this.children.ChangePasswordLink=new me({href:"/",text:"Изменить пароль",styles:"profile__link",events:{click:function(e){e.preventDefault(),t.go(u.EditPasswordPage)}}})},e.prototype.render=function(){var t,e,n,r,o;return this.compile(On(),kn(kn({},this.children),{email:null===(t=this.props.user)||void 0===t?void 0:t.email,login:null===(e=this.props.user)||void 0===e?void 0:e.login,name:null===(n=this.props.user)||void 0===n?void 0:n.first_name,surname:null===(r=this.props.user)||void 0===r?void 0:r.second_name,chatName:"Bla",telephone:null===(o=this.props.user)||void 0===o?void 0:o.phone,avatarSrc:this.props.avatarSrc}))},e}(at),Cn=q(xn,{router:new v("#app"),authController:new F});const Mn=tt((function(t){var e;return{user:t.user,avatarSrc:null===(e=t.user)||void 0===e?void 0:e.avatar}}))(Cn);var En,An,jn=n(981),Tn=n.n(jn),Ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Login="login",t.Password="password"}(An||(An={}));var In=function(t,e,n){var r=t.trim();return e.test(r)?null:n},Dn=((En={})[An.Login]=function(t){return In(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},En[An.Password]=function(t){return In(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},En),Bn=function(t){function e(e){return t.call(this,e)||this}return Ln(e,t),e.prototype.init=function(){var t=this,e=new Ct({inputStyle:"inputField__input",type:"text",name:"login"}),n=new Ct({inputStyle:"inputField__input",type:"password",name:"password"}),r=[e,n],o=[new yt({name:"login",label:"Логин *",input:e}),new yt({name:"password",label:"Пароль *",input:n})],a=new pt({label:"Войти",stylesType:ot.Submit,containerStyles:"authForm__submitBtn"});this.children.form=new wt({fields:o,submitBtn:a,submit:function(e){return n=t,r=void 0,l=function(){var t,n;return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.props.auth.signIn(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),n=t.reason,a.props.actionError=n,[3,3];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{s(l.next(t))}catch(t){e(t)}}function i(t){try{s(l.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,i)}s((l=l.apply(n,r||[])).next())}));var n,r,o,l},inputs:r,validationRules:Dn,formClass:"authForm"}),this.children.signUpLink=new me({href:"/",text:"Нет аккаунта?",styles:"auth__link",events:{click:function(e){e.preventDefault(),t.props.router.go(u.SignUpPage)}}})},e.prototype.render=function(){return this.compile(Tn(),this.children)},e}(at),Fn=q(Bn,{auth:new F,router:new v("#app")});const Nn=tt((function(t){return t.user}))(Fn);var Un,Rn,Hn=n(383),Vn=n.n(Hn),Gn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Name="first_name",t.Surname="second_name",t.Login="login",t.Email="email",t.Phone="phone",t.Password="password"}(Rn||(Rn={}));var Wn=function(t,e,n){var r=t.trim();return e.test(r)?null:n},Zn=((Un={})[Rn.Name]=function(t){return Wn(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},Un[Rn.Surname]=function(t){return Wn(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},Un[Rn.Login]=function(t){return Wn(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},Un[Rn.Email]=function(t){return Wn(t,/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,"латиница, может включать цифры и спецсимволы вроде дефиса, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы")},Un[Rn.Password]=function(t){return Wn(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},Un[Rn.Phone]=function(t){return Wn(t,/^\+?[0-9]{10,15}$/,"От 10 до 15 символов, состоит из цифр, может начинается с плюса")},Un),qn=function(t){function e(e){return t.call(this,e)||this}return Gn(e,t),e.prototype.init=function(){var t=this,e=new Ct({inputStyle:"inputField__input",type:"text",name:Rn.Name}),n=new Ct({inputStyle:"inputField__input",type:"text",name:Rn.Surname}),r=new Ct({inputStyle:"inputField__input",type:"text",name:Rn.Login}),o=new Ct({inputStyle:"inputField__input",type:"email",name:Rn.Email}),a=new Ct({inputStyle:"inputField__input",type:"tel",name:Rn.Phone}),l=new Ct({inputStyle:"inputField__input",type:"password",name:Rn.Password}),i=[e,n,r,o,a,l],s=[new yt({name:Rn.Name,label:"Имя",input:e}),new yt({name:Rn.Surname,label:"Фамилия",input:n}),new yt({name:Rn.Login,label:"Логин *",input:r}),new yt({name:Rn.Email,label:"Email *",input:o}),new yt({name:Rn.Phone,label:"Телефон *",input:a}),new yt({name:Rn.Password,label:"Пароль *",input:l})],c=new pt({label:"Зарегистрироваться",stylesType:ot.Submit,styles:"authForm__signUpBtn"});this.children.form=new wt({fields:s,submitBtn:c,submit:function(e){return n=t,r=void 0,a=function(){var t,n;return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.props.auth.signUp(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),n=t.reason,c.props.actionError=n,[3,3];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function l(t){try{s(a.next(t))}catch(t){e(t)}}function i(t){try{s(a.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(l,i)}s((a=a.apply(n,r||[])).next())}));var n,r,o,a},inputs:i,validationRules:Zn,formClass:"authForm"}),this.children.signInLink=new me({href:"/",text:"Уже есть аккаунт?",styles:"auth__link",events:{click:function(e){e.preventDefault(),t.props.router.go(u.SignInPage)}}})},e.prototype.render=function(){return this.compile(Vn(),this.children)},e}(at),zn=q(qn,{auth:new F,router:new v("#app")});const Yn=tt((function(t){return t.user}))(zn);window.addEventListener("DOMContentLoaded",(function(){return t=void 0,e=void 0,r=function(){return function(t,e){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){switch(t.label){case 0:return new v("#app").use(u.SignInPage,Nn,{}).use(u.SignUpPage,Yn,{}).use(u.Chat,Be,{}).use(u.EditProfilePage,mn,{}).use(u.EditPasswordPage,rn,{}).use(u.Profile,Mn,{}).use(u.NotFoundPage,wn,{statusCode:404,text:"Не найдено"}).use(u.ServerError,wn,{statusCode:500,text:"Что-то пошло не так"}).start(),[4,(new F).getUser()];case 1:return t.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function l(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}s((r=r.apply(t,e||[])).next())}));var t,e,n,r}))})()})();
//# sourceMappingURL=main.js.map