(()=>{var t={3305:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,s="function",u=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a href="'+u(typeof(i=null!=(i=c(n,"href")||(null!=e?c(e,"href"):e))?i:l)===s?i.call(a,{name:"href",hash:{},data:o,loc:{start:{line:1,column:9},end:{line:1,column:17}}}):i)+'" class="anchorLink '+u(typeof(i=null!=(i=c(n,"styles")||(null!=e?c(e,"styles"):e))?i:l)===s?i.call(a,{name:"styles",hash:{},data:o,loc:{start:{line:1,column:37},end:{line:1,column:47}}}):i)+'">'+u(typeof(i=null!=(i=c(n,"text")||(null!=e?c(e,"text"):e))?i:l)===s?i.call(a,{name:"text",hash:{},data:o,loc:{start:{line:1,column:49},end:{line:1,column:57}}}):i)+"</a>\r\n"},useData:!0})},4941:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <button type='"+c(typeof(a=null!=(a=p(n,"type")||(null!=e?p(e,"type"):e))?a:s)===u?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:2,column:16},end:{line:2,column:24}}}):a)+"' class='button__button button__button_type_"+c(typeof(a=null!=(a=p(n,"stylesType")||(null!=e?p(e,"stylesType"):e))?a:s)===u?a.call(l,{name:"stylesType",hash:{},data:o,loc:{start:{line:2,column:68},end:{line:2,column:82}}}):a)+" "+c(typeof(a=null!=(a=p(n,"styles")||(null!=e?p(e,"styles"):e))?a:s)===u?a.call(l,{name:"styles",hash:{},data:o,loc:{start:{line:2,column:83},end:{line:2,column:93}}}):a)+"'>\r\n    "+c(typeof(a=null!=(a=p(n,"label")||(null!=e?p(e,"label"):e))?a:s)===u?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:13}}}):a)+"\r\n    "+(null!=(i=typeof(a=null!=(a=p(n,"child")||(null!=e?p(e,"child"):e))?a:s)===u?a.call(l,{name:"child",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:15}}}):a)?i:"")+"\r\n  </button>\r\n"},3:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <div class='button "+c(typeof(a=null!=(a=p(n,"containerStyles")||(null!=e?p(e,"containerStyles"):e))?a:s)===u?a.call(l,{name:"containerStyles",hash:{},data:o,loc:{start:{line:7,column:21},end:{line:7,column:40}}}):a)+"'>\r\n"+(null!=(i=p(n,"if").call(l,null!=e?p(e,"actionError"):e,{name:"if",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o,loc:{start:{line:8,column:4},end:{line:10,column:11}}}))?i:"")+"    <button\r\n      type='"+c(typeof(a=null!=(a=p(n,"type")||(null!=e?p(e,"type"):e))?a:s)===u?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:12,column:12},end:{line:12,column:20}}}):a)+"'\r\n      class='button__button button__button_type_"+c(typeof(a=null!=(a=p(n,"stylesType")||(null!=e?p(e,"stylesType"):e))?a:s)===u?a.call(l,{name:"stylesType",hash:{},data:o,loc:{start:{line:13,column:48},end:{line:13,column:62}}}):a)+" "+c(typeof(a=null!=(a=p(n,"styles")||(null!=e?p(e,"styles"):e))?a:s)===u?a.call(l,{name:"styles",hash:{},data:o,loc:{start:{line:13,column:63},end:{line:13,column:73}}}):a)+"'\r\n    >"+c(typeof(a=null!=(a=p(n,"label")||(null!=e?p(e,"label"):e))?a:s)===u?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:14,column:5},end:{line:14,column:14}}}):a)+"</button>\r\n"+(null!=(i=p(n,"if").call(l,null!=e?p(e,"validationError"):e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o,loc:{start:{line:15,column:4},end:{line:17,column:11}}}))?i:"")+"  </div>\r\n"},4:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <p class='button__error'>"+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"actionError")||(null!=e?a(e,"actionError"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"actionError",hash:{},data:o,loc:{start:{line:9,column:31},end:{line:9,column:46}}}):i)+"</p>\r\n"},6:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <p class='button__error'>"+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"validationError")||(null!=e?a(e,"validationError"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"validationError",hash:{},data:o,loc:{start:{line:16,column:31},end:{line:16,column:50}}}):i)+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"noValidation"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:19,column:7}}}))?i:""},useData:!0})},6848:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='newMessage'>\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"AttachmentBtn")||(null!=e?c(e,"AttachmentBtn"):e))?a:s)===u?a.call(l,{name:"AttachmentBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:21}}}):a)?i:"")+"\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"Form")||(null!=e?c(e,"Form"):e))?a:s)===u?a.call(l,{name:"Form",hash:{},data:o,loc:{start:{line:3,column:2},end:{line:3,column:12}}}):a)?i:"")+"\r\n</div>"},useData:!0})},625:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return'        class="chatMessage chatMessage_type_receivedMessage"\r\n'},3:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <p class="chatMessage__date">'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"messageDate")||(null!=e?a(e,"messageDate"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"messageDate",hash:{},data:o,loc:{start:{line:8,column:37},end:{line:8,column:52}}}):i)+"</p>\r\n"},5:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o,loc:{start:{line:12,column:12},end:{line:14,column:19}}}))?i:""},6:function(t,e,n,r,o){return'                class="chatMessage__content chatMessage__content_isMessageSent chatMessage__content_type_img"\r\n'},8:function(t,e,n,r,o){return'            class="chatMessage__content chatMessage__content_type_img"\r\n'},10:function(t,e,n,r,o){return'            class="chatMessage__content chatMessage__content_isMessageSent"\r\n'},12:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <p class="chatMessage__text">\r\n            '+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"textMessage")||(null!=e?a(e,"textMessage"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"textMessage",hash:{},data:o,loc:{start:{line:26,column:12},end:{line:26,column:27}}}):i)+"\r\n        </p>\r\n"},14:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"            <img\r\n                src="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"imgPath")||(null!=e?a(e,"imgPath"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"imgPath",hash:{},data:o,loc:{start:{line:31,column:20},end:{line:31,column:31}}}):i)+'\r\n                alt="Изображение в сообщении"\r\n                class="chatMessage__imgMessage"\r\n            >\r\n'},16:function(t,e,n,r,o){return'                class="chatMessage__time chatMessage__time_messageContent_img"\r\n'},18:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"isMessageDelivered"):e,{name:"if",hash:{},fn:t.program(19,o,0),inverse:t.noop,data:o,loc:{start:{line:43,column:14},end:{line:49,column:21}}}))?i:""},19:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"                <img\r\n                    src="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"messageReceivedImgPath")||(null!=e?a(e,"messageReceivedImgPath"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"messageReceivedImgPath",hash:{},data:o,loc:{start:{line:45,column:24},end:{line:45,column:50}}}):i)+'\r\n                    alt="Знак получения сообщения"\r\n                    class="chatMessage__messageIsReceivedIcon"\r\n                >\r\n'},21:function(t,e,n,r,o){return'                    class="chatMessage__timeSign chatMessage__timeSign_messageContent_img"\r\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n<div \r\n"+(null!=(i=s(n,"unless").call(l,null!=e?s(e,"isMessageSent"):e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:3,column:4},end:{line:5,column:15}}}))?i:"")+'    class="chatMessage">\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"withDate"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?i:"")+"    <div \r\n"+(null!=(i=s(n,"if").call(l,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:11,column:8},end:{line:15,column:15}}}))?i:"")+(null!=(i=s(n,"if").call(l,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(8,o,0),inverse:t.noop,data:o,loc:{start:{line:16,column:8},end:{line:18,column:15}}}))?i:"")+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(10,o,0),inverse:t.noop,data:o,loc:{start:{line:19,column:8},end:{line:21,column:15}}}))?i:"")+'        class="chatMessage__content"\r\n    >\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"textMessage"):e,{name:"if",hash:{},fn:t.program(12,o,0),inverse:t.noop,data:o,loc:{start:{line:24,column:8},end:{line:28,column:15}}}))?i:"")+(null!=(i=s(n,"if").call(l,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(14,o,0),inverse:t.noop,data:o,loc:{start:{line:29,column:8},end:{line:35,column:15}}}))?i:"")+"        <div\r\n"+(null!=(i=s(n,"if").call(l,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(16,o,0),inverse:t.noop,data:o,loc:{start:{line:37,column:12},end:{line:39,column:19}}}))?i:"")+'            class="chatMessage__time"\r\n        >\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isMessageSent"):e,{name:"if",hash:{},fn:t.program(18,o,0),inverse:t.noop,data:o,loc:{start:{line:42,column:12},end:{line:50,column:19}}}))?i:"")+"            <p\r\n"+(null!=(i=s(n,"if").call(l,null!=e?s(e,"imgPath"):e,{name:"if",hash:{},fn:t.program(21,o,0),inverse:t.noop,data:o,loc:{start:{line:52,column:16},end:{line:54,column:23}}}))?i:"")+'                class="chatMessage__timeSign"\r\n            >\r\n                '+t.escapeExpression("function"==typeof(a=null!=(a=s(n,"messageTime")||(null!=e?s(e,"messageTime"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"messageTime",hash:{},data:o,loc:{start:{line:57,column:16},end:{line:57,column:31}}}):a)+"\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n"},useData:!0})},7621:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return"class='chatSettings__list chatSettings__list_open'"},3:function(t,e,n,r,o){var i;return"      <li class='chatSettings__item'>\r\n      "+(null!=(i=t.lambda(e,e))?i:"")+"\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='chatSettings'>\r\n  "+(null!=(i="function"==typeof(a=null!=(a=s(n,"openBtn")||(null!=e?s(e,"openBtn"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"openBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:15}}}):a)?i:"")+"\r\n\r\n  <ul "+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isOpen"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:6},end:{line:4,column:77}}}))?i:"")+' class="chatSettings__list">\r\n'+(null!=(i=s(n,"each").call(l,null!=e?s(e,"buttons"):e,{name:"each",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:4},end:{line:9,column:13}}}))?i:"")+"  </ul>\r\n</div>\r\n"},useData:!0})},7753:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){return"<div class='chatSettings__middleSettingsDot'></div>"},useData:!0})},8144:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <div class="chat__head">\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:8},end:{line:11,column:15}}}))?i:"")+"            "+(null!=(i="function"==typeof(a=null!=(a=s(n,"ChatSettings")||(null!=e?s(e,"ChatSettings"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"ChatSettings",hash:{},data:o,loc:{start:{line:12,column:12},end:{line:12,column:30}}}):a)?i:"")+"\r\n        </div>\r\n"},2:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(i=s(n,"if").call(l,null!=e?s(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o,loc:{start:{line:5,column:12},end:{line:9,column:19}}}))?i:"")+'                <h2 class="chat__name">'+t.escapeExpression("function"==typeof(a=null!=(a=s(n,"chatName")||(null!=e?s(e,"chatName"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"chatName",hash:{},data:o,loc:{start:{line:10,column:39},end:{line:10,column:51}}}):a)+"</h2>\r\n"},3:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'                <img src="'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"avatarSrc")||(null!=e?a(e,"avatarSrc"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:6,column:26},end:{line:6,column:39}}}):i)+'" alt="avatar" class="chat__avatar">\r\n'},5:function(t,e,n,r,o){return'                <div class="chat__avatar chat__avatar_empty"></div>\r\n'},7:function(t,e,n,r,o){return'class="chat__messagesWindow"'},9:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"chatMessages"):e,{name:"each",hash:{},fn:t.program(10,o,0),inverse:t.noop,data:o,loc:{start:{line:17,column:12},end:{line:19,column:21}}}))?i:""},10:function(t,e,n,r,o){var i;return"                "+(null!=(i=t.lambda(e,e))?i:"")+"\r\n"},12:function(t,e,n,r,o){return'            <p class="chat__chooseChatSign">Выберите чат чтобы отправить сообщение</p>\r\n'},14:function(t,e,n,r,o){var i,a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i="function"==typeof(a=null!=(a=l(n,"ChatMessageInput")||(null!=e?l(e,"ChatMessageInput"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"ChatMessageInput",hash:{},data:o,loc:{start:{line:24,column:26},end:{line:24,column:48}}}):a)?i:""},16:function(t,e,n,r,o){var i,a,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+(null!=(i="function"==typeof(a=null!=(a=l(n,"CreateChatBtn")||(null!=e?l(e,"CreateChatBtn"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"CreateChatBtn",hash:{},data:o,loc:{start:{line:27,column:8},end:{line:27,column:27}}}):a)?i:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="chat">\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"ChatSettings"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:4},end:{line:14,column:11}}}))?i:"")+"    <div "+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o,loc:{start:{line:15,column:9},end:{line:15,column:66}}}))?i:"")+' class="chat__messagesWindow chat__messagesWindow_chatIsNotSelected">\r\n'+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(9,o,0),inverse:t.program(12,o,0),data:o,loc:{start:{line:16,column:8},end:{line:22,column:15}}}))?i:"")+"    </div>\r\n    "+(null!=(i=s(n,"if").call(l,null!=e?s(e,"isChatSelected"):e,{name:"if",hash:{},fn:t.program(14,o,0),inverse:t.noop,data:o,loc:{start:{line:24,column:4},end:{line:24,column:55}}}))?i:"")+"\r\n    "+(null!=(i="function"==typeof(a=null!=(a=s(n,"Modal")||(null!=e?s(e,"Modal"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"Modal",hash:{},data:o,loc:{start:{line:25,column:4},end:{line:25,column:15}}}):a)?i:"")+"\r\n"+(null!=(i=s(n,"unless").call(l,null!=e?s(e,"isChatSelected"):e,{name:"unless",hash:{},fn:t.program(16,o,0),inverse:t.noop,data:o,loc:{start:{line:26,column:4},end:{line:28,column:15}}}))?i:"")+"</div>\r\n"},useData:!0})},35:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return"      "+(null!=(i=t.lambda(e,e))?i:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='messages'>\r\n  <div class='messages__head'>\r\n    "+(null!=(i="function"==typeof(a=null!=(a=s(n,"ProfileLink")||(null!=e?s(e,"ProfileLink"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"ProfileLink",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:21}}}):a)?i:"")+"\r\n    <input type='text' class='messages__searchInput' placeholder='Поиск' />\r\n  </div>\r\n  <ul class='messages__list'>\r\n"+(null!=(i=s(n,"each").call(l,null!=e?s(e,"foundMessages"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:13}}}))?i:"")+(null!=(i=s(n,"each").call(l,null!=e?s(e,"chats"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:10,column:4},end:{line:12,column:13}}}))?i:"")+"  </ul>\r\n</div>\r\n"},useData:!0})},4325:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='inputField "+c(typeof(a=null!=(a=p(n,"inputWrapperStyle")||(null!=e?p(e,"inputWrapperStyle"):e))?a:s)===u?a.call(l,{name:"inputWrapperStyle",hash:{},data:o,loc:{start:{line:1,column:23},end:{line:1,column:44}}}):a)+"'>\r\n  <label for="+c(typeof(a=null!=(a=p(n,"name")||(null!=e?p(e,"name"):e))?a:s)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:2,column:13},end:{line:2,column:21}}}):a)+" class='inputField__label "+c(typeof(a=null!=(a=p(n,"labelStyle")||(null!=e?p(e,"labelStyle"):e))?a:s)===u?a.call(l,{name:"labelStyle",hash:{},data:o,loc:{start:{line:2,column:47},end:{line:2,column:61}}}):a)+"'>"+c(typeof(a=null!=(a=p(n,"label")||(null!=e?p(e,"label"):e))?a:s)===u?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:2,column:63},end:{line:2,column:72}}}):a)+"</label>\r\n  "+(null!=(i=typeof(a=null!=(a=p(n,"input")||(null!=e?p(e,"input"):e))?a:s)===u?a.call(l,{name:"input",hash:{},data:o,loc:{start:{line:3,column:2},end:{line:3,column:13}}}):a)?i:"")+"\r\n  <p class='inputField__error "+c(typeof(a=null!=(a=p(n,"errorStyle")||(null!=e?p(e,"errorStyle"):e))?a:s)===u?a.call(l,{name:"errorStyle",hash:{},data:o,loc:{start:{line:4,column:30},end:{line:4,column:44}}}):a)+"'>"+c(typeof(a=null!=(a=p(n,"errorText")||(null!=e?p(e,"errorText"):e))?a:s)===u?a.call(l,{name:"errorText",hash:{},data:o,loc:{start:{line:4,column:46},end:{line:4,column:59}}}):a)+"</p>\r\n</div>"},useData:!0})},1179:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return"    "+(null!=(i=t.lambda(e,e))?i:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<form action='submit' class='"+t.escapeExpression(typeof(a=null!=(a=c(n,"formClass")||(null!=e?c(e,"formClass"):e))?a:s)===u?a.call(l,{name:"formClass",hash:{},data:o,loc:{start:{line:1,column:29},end:{line:1,column:42}}}):a)+"' novalidate>\r\n"+(null!=(i=c(n,"each").call(l,null!=e?c(e,"fields"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:2},end:{line:4,column:11}}}))?i:"")+"  "+(null!=(i=typeof(a=null!=(a=c(n,"submitBtn")||(null!=e?c(e,"submitBtn"):e))?a:s)===u?a.call(l,{name:"submitBtn",hash:{},data:o,loc:{start:{line:5,column:2},end:{line:5,column:17}}}):a)?i:"")+"\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"Modal")||(null!=e?c(e,"Modal"):e))?a:s)===u?a.call(l,{name:"Modal",hash:{},data:o,loc:{start:{line:6,column:2},end:{line:6,column:13}}}):a)?i:"")+"\r\n</form>"},useData:!0})},2306:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<textarea "+(null!=(i=p(n,"if").call(l,null!=e?p(e,"value"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:10},end:{line:2,column:45}}}))?i:"")+' class="'+c(typeof(a=null!=(a=p(n,"inputStyle")||(null!=e?p(e,"inputStyle"):e))?a:s)===u?a.call(l,{name:"inputStyle",hash:{},data:o,loc:{start:{line:2,column:53},end:{line:2,column:67}}}):a)+'" name='+c(typeof(a=null!=(a=p(n,"name")||(null!=e?p(e,"name"):e))?a:s)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:2,column:74},end:{line:2,column:82}}}):a)+" placeholder="+c(typeof(a=null!=(a=p(n,"placeholder")||(null!=e?p(e,"placeholder"):e))?a:s)===u?a.call(l,{name:"placeholder",hash:{},data:o,loc:{start:{line:2,column:95},end:{line:2,column:110}}}):a)+">\r\n"},2:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"value="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"value")||(null!=e?a(e,"value"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"value",hash:{},data:o,loc:{start:{line:2,column:29},end:{line:2,column:38}}}):i)},4:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<input type="'+c(typeof(a=null!=(a=p(n,"type")||(null!=e?p(e,"type"):e))?a:s)===u?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:4,column:13},end:{line:4,column:21}}}):a)+'" '+(null!=(i=p(n,"if").call(l,null!=e?p(e,"value"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:23},end:{line:4,column:58}}}))?i:"")+' class="'+c(typeof(a=null!=(a=p(n,"inputStyle")||(null!=e?p(e,"inputStyle"):e))?a:s)===u?a.call(l,{name:"inputStyle",hash:{},data:o,loc:{start:{line:4,column:66},end:{line:4,column:80}}}):a)+'" name='+c(typeof(a=null!=(a=p(n,"name")||(null!=e?p(e,"name"):e))?a:s)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:4,column:87},end:{line:4,column:95}}}):a)+" "+(null!=(i=p(n,"if").call(l,null!=e?p(e,"id"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:4,column:96},end:{line:4,column:122}}}))?i:"")+">\r\n"},5:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"id="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"id")||(null!=e?a(e,"id"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:o,loc:{start:{line:4,column:109},end:{line:4,column:115}}}):i)},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(i=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"isTextArea"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?i:""},useData:!0})},3843:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return'class="message message_unread"'},3:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <img src="'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"imgSrc")||(null!=e?a(e,"imgSrc"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"imgSrc",hash:{},data:o,loc:{start:{line:4,column:22},end:{line:4,column:32}}}):i)+'" alt="avatar" class="message__avatar">\r\n'},5:function(t,e,n,r,o){return'            <div class="message__avatar message__avatar_empty"></div>\r\n'},7:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__text">'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"message")||(null!=e?a(e,"message"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"message",hash:{},data:o,loc:{start:{line:11,column:37},end:{line:11,column:48}}}):i)+"</p>\r\n"},9:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__text">\r\n                <span class="message__text_highlighted">Вы:&nbsp;</span>\r\n                '+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"message")||(null!=e?a(e,"message"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"message",hash:{},data:o,loc:{start:{line:15,column:16},end:{line:15,column:27}}}):i)+"\r\n            </p>\r\n"},11:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <p class="message__unreadCount">'+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"unreadMessagesCount")||(null!=e?a(e,"unreadMessagesCount"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"unreadMessagesCount",hash:{},data:o,loc:{start:{line:19,column:44},end:{line:19,column:67}}}):i)+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n    <li "+(null!=(i=p(n,"if").call(l,null!=e?p(e,"isMessageSelected"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:8},end:{line:2,column:70}}}))?i:"")+' class="message">\r\n'+(null!=(i=p(n,"if").call(l,null!=e?p(e,"imgSrc"):e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o,loc:{start:{line:3,column:8},end:{line:7,column:15}}}))?i:"")+'        <p class="message__chatName">'+c(typeof(a=null!=(a=p(n,"chatName")||(null!=e?p(e,"chatName"):e))?a:s)===u?a.call(l,{name:"chatName",hash:{},data:o,loc:{start:{line:8,column:37},end:{line:8,column:49}}}):a)+'</p>\r\n        <p class="message__date">'+c(typeof(a=null!=(a=p(n,"messageDate")||(null!=e?p(e,"messageDate"):e))?a:s)===u?a.call(l,{name:"messageDate",hash:{},data:o,loc:{start:{line:9,column:33},end:{line:9,column:48}}}):a)+"</p>\r\n"+(null!=(i=p(n,"if").call(l,null!=e?p(e,"isMessageReceived"):e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.program(9,o,0),data:o,loc:{start:{line:10,column:8},end:{line:17,column:15}}}))?i:"")+(null!=(i=p(n,"if").call(l,null!=e?p(e,"unreadMessagesCount"):e,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o,loc:{start:{line:18,column:8},end:{line:20,column:15}}}))?i:"")+"    </li>\r\n</div>\r\n"},useData:!0})},9812:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return"      "+(null!=(i=t.lambda(e,e))?i:"")+"\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='modalBackground'>\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"CloseBtn")||(null!=e?c(e,"CloseBtn"):e))?a:s)===u?a.call(l,{name:"CloseBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:16}}}):a)?i:"")+"\r\n  <div class='modal'>\r\n    <h3 class='modal__header'>"+t.escapeExpression(typeof(a=null!=(a=c(n,"header")||(null!=e?c(e,"header"):e))?a:s)===u?a.call(l,{name:"header",hash:{},data:o,loc:{start:{line:4,column:30},end:{line:4,column:40}}}):a)+"</h3>\r\n"+(null!=(i=c(n,"each").call(l,null!=e?c(e,"content"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:4},end:{line:7,column:13}}}))?i:"")+"  </div>\r\n</div>"},useData:!0})},4217:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    <img src="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"avatarSrc")||(null!=e?a(e,"avatarSrc"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:4,column:13},end:{line:4,column:26}}}):i)+" alt='Аватар' class='profile__avatar' />\r\n"},3:function(t,e,n,r,o){return"    <div class='profile__avatar profile__avatar_type_tooltip'></div>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class='profile__inputWrapper'>\r\n  "+(null!=(i="function"==typeof(a=null!=(a=s(n,"openModalBtn")||(null!=e?s(e,"openModalBtn"):e))?a:t.hooks.helperMissing)?a.call(l,{name:"openModalBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:20}}}):a)?i:"")+"\r\n"+(null!=(i=s(n,"if").call(l,null!=e?s(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:3,column:2},end:{line:7,column:9}}}))?i:"")+"</div>"},useData:!0})},8340:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){return'<button class="profileGoBackBtn"></button>\r\n'},useData:!0})},2139:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n  <main class='mainGrid'>\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"MessagesList")||(null!=e?c(e,"MessagesList"):e))?a:s)===u?a.call(l,{name:"MessagesList",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:22}}}):a)?i:"")+"\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"Chat")||(null!=e?c(e,"Chat"):e))?a:s)===u?a.call(l,{name:"Chat",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:14}}}):a)?i:"")+"\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"Modal")||(null!=e?c(e,"Modal"):e))?a:s)===u?a.call(l,{name:"Modal",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:15}}}):a)?i:"")+"\r\n  </main>\r\n</div>"},useData:!0})},8236:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"GoBackBtn")||(null!=e?c(e,"GoBackBtn"):e))?a:s)===u?a.call(l,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):a)?i:"")+"\r\n  <div class='profile__content'>\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"AvatarInput")||(null!=e?c(e,"AvatarInput"):e))?a:s)===u?a.call(l,{name:"AvatarInput",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:21}}}):a)?i:"")+"\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"form")||(null!=e?c(e,"form"):e))?a:s)===u?a.call(l,{name:"form",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:14}}}):a)?i:"")+"\r\n  </div>\r\n</main>"},useData:!0})},3670:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"GoBackBtn")||(null!=e?c(e,"GoBackBtn"):e))?a:s)===u?a.call(l,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):a)?i:"")+"\r\n  <div class='profile__content'>\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"AvatarInput")||(null!=e?c(e,"AvatarInput"):e))?a:s)===u?a.call(l,{name:"AvatarInput",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:21}}}):a)?i:"")+"\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"Form")||(null!=e?c(e,"Form"):e))?a:s)===u?a.call(l,{name:"Form",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:14}}}):a)?i:"")+"\r\n  </div>\r\n  "+(null!=(i=typeof(a=null!=(a=c(n,"AvatarModal")||(null!=e?c(e,"AvatarModal"):e))?a:s)===u?a.call(l,{name:"AvatarModal",hash:{},data:o,loc:{start:{line:7,column:2},end:{line:7,column:19}}}):a)?i:"")+"\r\n</main>"},useData:!0})},9738:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='errorPage'>\r\n  <h2 class='errorPage__error'>"+c(typeof(a=null!=(a=p(n,"statusCode")||(null!=e?p(e,"statusCode"):e))?a:s)===u?a.call(l,{name:"statusCode",hash:{},data:o,loc:{start:{line:2,column:31},end:{line:2,column:45}}}):a)+"</h2>\r\n  <p class='errorPage__text'>"+c(typeof(a=null!=(a=p(n,"text")||(null!=e?p(e,"text"):e))?a:s)===u?a.call(l,{name:"text",hash:{},data:o,loc:{start:{line:3,column:29},end:{line:3,column:37}}}):a)+"</p>\r\n  "+(null!=(i=typeof(a=null!=(a=p(n,"Link")||(null!=e?p(e,"Link"):e))?a:s)===u?a.call(l,{name:"Link",hash:{},data:o,loc:{start:{line:4,column:2},end:{line:4,column:12}}}):a)?i:"")+"\r\n</main>"},useData:!0})},7019:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <img src="+t.escapeExpression("function"==typeof(i=null!=(i=a(n,"avatarSrc")||(null!=e?a(e,"avatarSrc"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"avatarSrc",hash:{},data:o,loc:{start:{line:5,column:15},end:{line:5,column:28}}}):i)+" alt='Аватар' class='profile__avatar' />\r\n"},3:function(t,e,n,r,o){return"      <div class='profile__avatar profile__avatar_type_tooltip'></div>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='profile'>\r\n  "+(null!=(i=typeof(a=null!=(a=p(n,"GoBackBtn")||(null!=e?p(e,"GoBackBtn"):e))?a:s)===u?a.call(l,{name:"GoBackBtn",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:17}}}):a)?i:"")+"\r\n  <div class='profile__content'>\r\n"+(null!=(i=p(n,"if").call(l,null!=e?p(e,"avatarSrc"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o,loc:{start:{line:4,column:4},end:{line:8,column:11}}}))?i:"")+"    <h2 class='profile__name'>"+c(typeof(a=null!=(a=p(n,"profileName")||(null!=e?p(e,"profileName"):e))?a:s)===u?a.call(l,{name:"profileName",hash:{},data:o,loc:{start:{line:9,column:30},end:{line:9,column:45}}}):a)+"</h2>\r\n    <div class='profile__lists'>\r\n      <ul class='profile__infoList'>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Почта</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"email")||(null!=e?p(e,"email"):e))?a:s)===u?a.call(l,{name:"email",hash:{},data:o,loc:{start:{line:14,column:48},end:{line:14,column:57}}}):a)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Логин</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"login")||(null!=e?p(e,"login"):e))?a:s)===u?a.call(l,{name:"login",hash:{},data:o,loc:{start:{line:18,column:48},end:{line:18,column:57}}}):a)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Имя</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"name")||(null!=e?p(e,"name"):e))?a:s)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:22,column:48},end:{line:22,column:56}}}):a)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Фамилия</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"surname")||(null!=e?p(e,"surname"):e))?a:s)===u?a.call(l,{name:"surname",hash:{},data:o,loc:{start:{line:26,column:48},end:{line:26,column:59}}}):a)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Имя в чате</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"chatName")||(null!=e?p(e,"chatName"):e))?a:s)===u?a.call(l,{name:"chatName",hash:{},data:o,loc:{start:{line:30,column:48},end:{line:30,column:60}}}):a)+"</p>\r\n        </li>\r\n        <li class='profile__infoListItem'>\r\n          <p class='profile__infoListItemName'>Телефон</p>\r\n          <p class='profile__infoListItemValue'>"+c(typeof(a=null!=(a=p(n,"telephone")||(null!=e?p(e,"telephone"):e))?a:s)===u?a.call(l,{name:"telephone",hash:{},data:o,loc:{start:{line:34,column:48},end:{line:34,column:61}}}):a)+"</p>\r\n        </li>\r\n      </ul>\r\n      <ul class='profile__links'>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(i=typeof(a=null!=(a=p(n,"ChangeDataLink")||(null!=e?p(e,"ChangeDataLink"):e))?a:s)===u?a.call(l,{name:"ChangeDataLink",hash:{},data:o,loc:{start:{line:39,column:10},end:{line:39,column:30}}}):a)?i:"")+"\r\n        </li>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(i=typeof(a=null!=(a=p(n,"ChangePasswordLink")||(null!=e?p(e,"ChangePasswordLink"):e))?a:s)===u?a.call(l,{name:"ChangePasswordLink",hash:{},data:o,loc:{start:{line:42,column:10},end:{line:42,column:34}}}):a)?i:"")+"\r\n        </li>\r\n        <li class='profile__linksItem'>\r\n          "+(null!=(i=typeof(a=null!=(a=p(n,"LogoutLink")||(null!=e?p(e,"LogoutLink"):e))?a:s)===u?a.call(l,{name:"LogoutLink",hash:{},data:o,loc:{start:{line:45,column:10},end:{line:45,column:26}}}):a)?i:"")+"\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</main>"},useData:!0})},2981:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<main class='mainGrid'>\r\n  <div class='auth'>\r\n    <h2 class='auth__header'>Вход</h2>\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"form")||(null!=e?c(e,"form"):e))?a:s)===u?a.call(l,{name:"form",hash:{},data:o,loc:{start:{line:4,column:4},end:{line:4,column:14}}}):a)?i:"")+"\r\n    "+(null!=(i=typeof(a=null!=(a=c(n,"signUpLink")||(null!=e?c(e,"signUpLink"):e))?a:s)===u?a.call(l,{name:"signUpLink",hash:{},data:o,loc:{start:{line:5,column:4},end:{line:5,column:20}}}):a)?i:"")+"\r\n  </div>\r\n</main>\r\n"},useData:!0})},383:(t,e,n)=>{var r=n(202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\r\n  <main class='mainGrid'>\r\n    <div class='auth'>\r\n      <h2 class='auth__header'>Регистрация</h2>\r\n      "+(null!=(i=typeof(a=null!=(a=c(n,"form")||(null!=e?c(e,"form"):e))?a:s)===u?a.call(l,{name:"form",hash:{},data:o,loc:{start:{line:5,column:6},end:{line:5,column:16}}}):a)?i:"")+"\r\n      "+(null!=(i=typeof(a=null!=(a=c(n,"signInLink")||(null!=e?c(e,"signInLink"):e))?a:s)===u?a.call(l,{name:"signInLink",hash:{},data:o,loc:{start:{line:6,column:6},end:{line:6,column:22}}}):a)?i:"")+"\r\n    </div>\r\n  </main>\r\n</div>\r\n"},useData:!0})},6834:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var i=o(n(2067)),a=r(n(5558)),l=r(n(8728)),s=o(n(2392)),u=o(n(1628)),c=r(n(3982));function p(){var t=new i.HandlebarsEnvironment;return s.extend(t,i),t.SafeString=a.default,t.Exception=l.default,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var f=p();f.create=p,c.default(f),f.default=f,e.default=f,t.exports=e.default},2067:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=p;var o=n(2392),i=r(n(8728)),a=n(2638),l=n(881),s=r(n(8037)),u=n(6293);e.VERSION="4.7.7",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var c="[object Object]";function p(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}p.prototype={constructor:p,logger:s.default,log:s.default.log,registerHelper:function(t,e){if(o.toString.call(t)===c){if(e)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===c)o.extend(this.partials,t);else{if(void 0===e)throw new i.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===c){if(e)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var f=s.default.log;e.log=f,e.createFrame=o.createFrame,e.logger=s.default},881:(t,e,n)=>{"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var r,o=(r=n(5670))&&r.__esModule?r:{default:r}},5670:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(2392);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,o){var i=t;return e.partials||(e.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,e.partials);var l=t(o,i);return n.partials=a,l}),e.partials[o.args[0]]=o.fn,i}))},t.exports=e.default},8728:(t,e)=>{"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var o=e&&e.loc,i=void 0,a=void 0,l=void 0,s=void 0;o&&(i=o.start.line,a=o.end.line,l=o.start.column,s=o.end.column,t+=" - "+i+":"+l);for(var u=Error.prototype.constructor.call(this,t),c=0;c<n.length;c++)this[n[c]]=u[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=l,this.endColumn=s))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},2638:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),i.default(t),a.default(t),l.default(t),s.default(t),u.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=r(n(7342)),i=r(n(6822)),a=r(n(4905)),l=r(n(7405)),s=r(n(5702)),u=r(n(7593)),c=r(n(3978))},7342:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(2392);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var o=n.inverse,i=n.fn;if(!0===e)return i(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(e,n)}))},t.exports=e.default},6822:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(2392),i=(r=n(8728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new i.default("Must pass iterator to #each");var r,a=e.fn,l=e.inverse,s=0,u="",c=void 0,p=void 0;function f(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,p&&(c.contextPath=p+e)),u+=a(t[e],{data:c,blockParams:o.blockParams([t[e],e],[p+e,null])})}if(e.data&&e.ids&&(p=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var h=t.length;s<h;s++)s in t&&f(s,s,s===t.length-1);else if(n.g.Symbol&&t[n.g.Symbol.iterator]){for(var d=[],y=t[n.g.Symbol.iterator](),m=y.next();!m.done;m=y.next())d.push(m.value);for(h=(t=d).length;s<h;s++)f(s,s,s===t.length-1)}else r=void 0,Object.keys(t).forEach((function(t){void 0!==r&&f(r,s-1),r=t,s++})),void 0!==r&&f(r,s-1,!0);return 0===s&&(u=l(this)),u}))},t.exports=e.default},4905:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=(r=n(8728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},7405:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(2392),i=(r=n(8728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},5702:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},7593:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},3978:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(2392),i=(r=n(8728))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:o.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},8572:(t,e,n)=>{"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n(2392)},6293:(t,e,n)=>{"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return function(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==i[t]&&(i[t]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(i).forEach((function(t){delete i[t]}))};var r=n(8572),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(8037)),i=Object.create(null)},5005:(t,e)=>{"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}}},8037:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(2392),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},3982:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n.g?n.g:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default},1628:(t,e,n)=>{"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=a.COMPILER_REVISION;if(!(e>=a.LAST_COMPATIBLE_COMPILER_REVISION&&e<=a.COMPILER_REVISION)){if(e<a.LAST_COMPATIBLE_COMPILER_REVISION){var r=a.REVISION_CHANGES[n],o=a.REVISION_CHANGES[e];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new i.default("No environment passed to template");if(!t||!t.main)throw new i.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0],r={strict:function(t,e,n){if(!t||!(e in t))throw new i.default('"'+e+'" not defined in '+t,{loc:n});return r.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||u.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,o=0;o<n;o++)if(null!=(t[o]&&r.lookupProperty(t[o],e)))return t[o][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=o.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,a);var l=o.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=e.VM.invokePartial.call(this,n,r,l);if(null==s&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),s=a.partials[a.name](r,l)),null!=s){if(a.indent){for(var u=s.split("\n"),c=0,p=u.length;c<p&&(u[c]||c+1!==p);c++)u[c]=a.indent+u[c];s=u.join("\n")}return s}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var i=this.programs[t],a=this.fn(t);return e||o||r||n?i=c(this,t,a,e,n,r,o):i||(i=this.programs[t]=c(this,t,a)),i},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=o.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function p(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;p._setup(n),!n.partial&&t.useData&&(o=function(t,e){return e&&"root"in e||((e=e?a.createFrame(e):{}).root=t),e}(e,o));var i=void 0,l=t.useBlockParams?[]:void 0;function s(e){return""+t.main(r,e,r.helpers,r.partials,o,l,i)}return t.useDepths&&(i=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(s=f(t.main,s,r,n.depths||[],o,l))(e,n)}return p.isTop=!0,p._setup=function(i){if(i.partial)r.protoAccessControl=i.protoAccessControl,r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators,r.hooks=i.hooks;else{var a=o.extend({},e.helpers,i.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return s.wrapHelper(t,(function(t){return o.extend({lookupProperty:n},t)}))}(r,e)}))}(a,r),r.helpers=a,t.usePartial&&(r.partials=r.mergeIfNeeded(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=o.extend({},e.decorators,i.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(i);var c=i.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",c),l.moveHelperToHooks(r,"blockHelperMissing",c)}},p._child=function(e,n,o,a){if(t.useBlockParams&&!o)throw new i.default("must pass block params");if(t.useDepths&&!a)throw new i.default("must pass parent depths");return c(r,e,t[e],n,0,o,a)},p},e.wrapProgram=c,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var l=void 0;if(n.fn&&n.fn!==p&&function(){n.data=a.createFrame(n.data);var t=n.fn;l=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=o.extend({},n.partials,t.partials))}(),void 0===t&&l&&(t=l),void 0===t)throw new i.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=p;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2392)),i=(r=n(8728))&&r.__esModule?r:{default:r},a=n(2067),l=n(2638),s=n(5005),u=n(6293);function c(t,e,n,r,o,i,a){function l(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(l=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),l)}return(l=f(n,l,t,a,r,i)).program=e,l.depth=a?a.length:0,l.blockParams=o||0,l}function p(){return""}function f(t,e,n,r,i,a){if(t.decorator){var l={};e=t.decorator(e,l,n,r&&r[0],i,a,r),o.extend(e,l)}return e}},5558:(t,e)=>{"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},2392:(t,e)=>{"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return o.test(t)?t.replace(r,i):t},e.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function i(t){return n[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString;e.toString=l;var s=function(t){return"function"==typeof t};s(/x/)&&(e.isFunction=s=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=s;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=u},202:(t,e,n)=>{t.exports=n(6834).default},6344:(t,e,n)=>{"use strict";n.r(e)},9355:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Router=e.Route=e.Routes=void 0;var r,o=n(5238);function i(t,e){var n=document.querySelector(t);if(null===n)throw new Error('root not found by selector "'.concat(t,'"'));return n.innerHTML="",n.append(e.getContent()),e.dispatchComponentDidMount(),n}!function(t){t.SignInPage="/",t.SignUpPage="sign-up",t.Chat="messenger",t.EditProfilePage="settings",t.EditPasswordPage="edit-password",t.Profile="profile",t.NotFoundPage="not-found",t.ServerError="server-error"}(r=e.Routes||(e.Routes={}));var a=function(){function t(t,e,n,r){this.block=null,this.pathName=t,this.blockClass=e,this.props=n,this.query=r}return t.prototype.navigate=function(t){this.match(t)&&(this.pathName=t,this.render())},t.prototype.leave=function(){this.block=null},t.prototype.match=function(t){return t===this.pathName},t.prototype.render=function(){if(!this.block)return this.block=new this.blockClass(this.props),void i(this.query,this.block);i(this.query,this.block)},t}();e.Route=a;var l=function(){function t(e){if(this.query=e,this.routes=[],this.history=window.history,this.currentRoute=null,t.instance)return t.instance;t.instance=this,this.query=e}return t.prototype.use=function(t,e,n){var r=new a(t,e,n,this.query);return this.routes.push(r),this},t.prototype.start=function(){var t=this;window.onpopstate=function(e){var n=e.currentTarget,i="/"===n.location.pathname?r.SignInPage:(0,o.trim)(n.location.pathname,"/");t.onRoute(i)}},t.prototype.onRoute=function(t){var e=this.getRoute(t);e?(this.currentRoute&&this.currentRoute!==e&&this.currentRoute.leave(),this.currentRoute=e,e.render()):this.go(r.NotFoundPage)},t.prototype.getRoute=function(t){var e;return null!==(e=this.routes.find((function(e){return e.match(t)})))&&void 0!==e?e:null},t.prototype.go=function(t){this.history.pushState({},"",t),this.onRoute(t)},t.prototype.back=function(){this.history.back()},t.prototype.forward=function(){this.history.forward()},t.prototype.replace=function(t){this.history.replaceState({},"",t),this.onRoute(t)},t.prototype.getCurrentPathName=function(){return(0,o.trim)(window.location.pathname,"/")},t}();e.Router=l,e.default=new l("#app")},5126:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AuthAPI=void 0;var s=n(1162),u=n(9255),c=function(t){function e(){var e=t.call(this,"/auth")||this;return e.create=void 0,e.read=void 0,e.update=void 0,e.delete=void 0,e}return o(e,t),e.prototype.signup=function(t){return(0,s.fetchWithRetry)(this.http,"/signup",{method:u.METHODS.POST,retries:1,data:t})},e.prototype.signin=function(t){return(0,s.fetchWithRetry)(this.http,"/signin",{method:u.METHODS.POST,retries:1,data:t})},e.prototype.getUser=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,(0,s.fetchWithRetry)(this.http,"/user",{method:u.METHODS.GET,retries:1})]}))}))},e.prototype.logout=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,(0,s.fetchWithRetry)(this.http,"/logout",{method:u.METHODS.POST,retries:1})]}))}))},e}(l(n(6356)).default);e.AuthAPI=c},6356:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9255);e.default=function(t){this.http=new r.HTTPTransport(t)}},26:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatsApi=void 0;var a=n(1162),l=n(9255),s=function(t){function e(){var e=t.call(this,"/chats")||this;return e.update=void 0,e}return o(e,t),e.prototype.create=function(t){return(0,a.fetchWithRetry)(this.http,"",{method:l.METHODS.POST,retries:1,data:t})},e.prototype.read=function(t){return(0,a.fetchWithRetry)(this.http,"",{method:l.METHODS.GET,retries:1,data:t})},e.prototype.delete=function(t){return(0,a.fetchWithRetry)(this.http,"",{method:l.METHODS.DELETE,retries:1,data:t})},e.prototype.addUser=function(t){return(0,a.fetchWithRetry)(this.http,"/users",{method:l.METHODS.PUT,retries:1,data:t})},e.prototype.deleteUser=function(t,e){return(0,a.fetchWithRetry)(this.http,"/users",{method:l.METHODS.DELETE,retries:1,data:{users:[t],chatId:e}})},e.prototype.getToken=function(t){return(0,a.fetchWithRetry)(this.http,"/token/".concat(t),{method:l.METHODS.POST,retries:1})},e.prototype.editAvatar=function(t){return(0,a.fetchWithRetry)(this.http,"/avatar",{method:l.METHODS.PUT,retries:1,data:t})},e}(i(n(6356)).default);e.ChatsApi=s},1574:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UsersApi=void 0;var a=n(1162),l=n(9255),s=function(t){function e(){var e=t.call(this,"/user")||this;return e.create=void 0,e.read=void 0,e.delete=void 0,e}return o(e,t),e.prototype.update=function(t){return(0,a.fetchWithRetry)(this.http,"/profile",{method:l.METHODS.PUT,retries:1,data:t})},e.prototype.searchUser=function(t){return(0,a.fetchWithRetry)(this.http,"/search",{method:l.METHODS.POST,retries:1,data:{login:t}})},e.prototype.editPassword=function(t,e){return(0,a.fetchWithRetry)(this.http,"/password",{method:l.METHODS.PUT,retries:1,data:{oldPassword:t,newPassword:e}})},e.prototype.editAvatar=function(t){return(0,a.fetchWithRetry)(this.http,"/profile/avatar",{method:l.METHODS.PUT,retries:1,data:t})},e}(i(n(6356)).default);e.UsersApi=s},216:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.AppLinks=void 0,(n=e.AppLinks||(e.AppLinks={})).BaseUrl="https://ya-praktikum.tech/api/v2",n.WSURL="wss://ya-praktikum.tech/ws/chats"},8367:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AnchorLink=void 0;var l=n(9355),s=n(224),u=n(9720),c=a(n(3305)),p=function(t){function e(e){var n=this,r=e.handler;return n=t.call(this,i(i({},e),{events:{click:function(t){t.preventDefault(),n.props.path&&n.props.router.go(n.props.path),r&&r()}}}))||this}return o(e,t),e.prototype.render=function(){return this.compile(c.default,this.props)},e}(u.Block);e.AnchorLink=p,e.default=(0,s.withControllers)(p,{router:new l.Router("#app")})},4733:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.ButtonStyleTypes=void 0;var a,l=n(9720),s=i(n(4941));(a=e.ButtonStyleTypes||(e.ButtonStyleTypes={})).Submit="submit",a.Attachment="attachment",a.Custom="custom";var u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){return this.compile(s.default,this.props)},e}(l.Block);e.Button=u},6192:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatMessageInput=void 0;var l,s=n(9720),u=n(4733),c=n(3147),p=n(787),f=n(1966),h=a(n(6848));!function(t){t.Message="message"}(l||(l={}));var d=((o={})[l.Message]=function(t){return function(t,e,n){var r=t.trim();return/(.|\s)*\S(.|\s)*/.test(r)?null:"Пустое поле недопустимо"}(t)},o),y=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){var t=this;this.children.AttachmentBtn=new u.Button({stylesType:u.ButtonStyleTypes.Attachment,label:"",noValidation:!0});var e=new f.Input({isTextArea:!0,name:"message",inputStyle:"newMessage__textArea",placeholder:"Сообщение"}),n=new c.Field({name:"message",label:"",input:e,errorStyle:"newMessage__errorText",labelStyle:"newMessage__inputLabel"});this.children.Form=new p.Form({fields:[n],inputs:[e],submit:function(e){var n=e.message;t.props.sendMessage(n)},submitBtn:new u.Button({label:"→",stylesType:u.ButtonStyleTypes.Submit,styles:"newMessage__submitBtn",noValidation:!0}),formClass:"newMessage__form",validationRules:d,shouldCleanOnSubmit:!0})},e.prototype.render=function(){return this.compile(h.default,this.children)},e}(s.Block);e.ChatMessageInput=y},3321:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatMessage=void 0;var l=a(n(4801)),s=n(9720),u=a(n(625)),c=function(t){function e(e){return t.call(this,i(i({},e),{messageReceivedImgPath:l.default}))||this}return o(e,t),e.prototype.render=function(){return this.compile(u.default,this.props)},e}(s.Block);e.ChatMessage=c},5047:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatSettings=void 0;var a=n(9720),l=i(n(7621)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.ChatSettings=s},1130:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DotsForButton=void 0;var a=n(9720),l=i(n(7753)),s=function(t){function e(){return t.call(this,{})||this}return o(e,t),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.DotsForButton=s},6510:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getButtonsForSelectedChat=void 0;var r=n(4733);e.getButtonsForSelectedChat=function(t){var e=t.clickDeleteChat,n=t.clickAddUser,o=t.clickDeleteUser,i=t.clickEditAvatar;return[new r.Button({label:"Удалить чат",noValidation:!0,stylesType:r.ButtonStyleTypes.Custom,styles:"chatSettings__actionBtn",events:{click:e}}),new r.Button({label:"Добавить пользователя",noValidation:!0,stylesType:r.ButtonStyleTypes.Custom,styles:"chatSettings__actionBtn",events:{click:n}}),new r.Button({label:"Удалить пользователя",noValidation:!0,stylesType:r.ButtonStyleTypes.Custom,styles:"chatSettings__actionBtn",events:{click:o}}),new r.Button({label:"Изменить аватар",noValidation:!0,stylesType:r.ButtonStyleTypes.Custom,styles:"chatSettings__actionBtn",events:{click:i}})]}},6773:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getButtonsForNotSelectedChat=void 0;var u=n(6392),c=n(3596),p=n(224),f=n(8544),h=n(9720),d=s(n(1371)),y=n(2708),m=n(4733),v=n(3321),_=n(6192),g=n(5047),b=n(1130),w=n(6510),O=s(n(8144));e.getButtonsForNotSelectedChat=function(t){var e=t.clickCreateChat;return[new m.Button({label:"",noValidation:!0,stylesType:m.ButtonStyleTypes.Custom,styles:"chat__createChatBtn",events:{click:e}})]};var P=null,S=function(t){function n(e){return t.call(this,i(i({},e),{Modal:null,areSettingsOpen:!1}))||this}return o(n,t),n.prototype.toggleSettings=function(){this.props.areSettingsOpen=!this.props.areSettingsOpen},n.prototype.init=function(){var t=this;this.children.CreateChatBtn=(0,e.getButtonsForNotSelectedChat)({clickCreateChat:function(){return t.props.Modal="create-chat"}}),this.children.ChatMessageInput=new _.ChatMessageInput({sendMessage:function(e){t.props.chatId&&t.props.messagesController.sendMessage(t.props.chatId,e)}})},n.prototype.closeModal=function(){this.props.Modal=null},n.prototype.componentDidUpdate=function(t,n){var r,o=this;if(t.Modal!==n.Modal){this.props.areSettingsOpen=!1;var i=(0,y.modalsSwitcher)(this.closeModal.bind(this),null!==(r=this.props.chatId)&&void 0!==r?r:null,this.props.chatsController,n.Modal);i&&i.dispatchComponentDidMount(),this.children.Modal=i}return t.areSettingsOpen!==n.areSettingsOpen&&(this.children.ChatSettings.props.isOpen=!!n.areSettingsOpen,n.areSettingsOpen?(P=function(t){t.target.classList.contains("chatSettings__settingsBtn")||o.toggleSettings()},document.addEventListener("click",P)):P&&(document.removeEventListener("click",P),P=null)),t.isChatSelected!==n.isChatSelected&&(n.isChatSelected?(this.children.ChatSettings=new g.ChatSettings({isOpen:!1,buttons:(0,w.getButtonsForSelectedChat)({clickDeleteChat:function(){return o.props.Modal="delete-chat"},clickAddUser:function(){return o.props.Modal="add-user"},clickDeleteUser:function(){return o.props.Modal="delete-user"},clickEditAvatar:function(){return o.props.Modal="change-avatar"}}),openBtn:new m.Button({label:"",noValidation:!0,stylesType:m.ButtonStyleTypes.Custom,styles:"chatSettings__settingsBtn",child:new b.DotsForButton,events:{click:this.toggleSettings.bind(this)}})}),this.renderMessages()):this.children.CreateChatBtn=(0,e.getButtonsForNotSelectedChat)({clickCreateChat:function(){return o.props.Modal="create-chat"}})),(0,d.default)(t.chatMessages,n.chatMessages)||this.renderMessages(),!(0,d.default)(t,n)},n.prototype.renderMessages=function(){var t,e=this;this.children.chatMessages=null===(t=this.props.chatMessages)||void 0===t?void 0:t.map((function(t){var n=new Date(t.time),r="".concat(n.getHours(),":").concat(n.getMinutes());return new v.ChatMessage({isMessageSent:t.user_id===e.props.userId,messageTime:r,textMessage:t.content})}))},n.prototype.render=function(){return this.compile(O.default,this.props)},n}(h.Block),M=(0,p.withControllers)(S,{chatsController:new u.ChatsController,messagesController:new c.MessagesController});e.default=(0,f.withStore)((function(t){var e,n,r,o,i=null===(e=t.selectedChat)||void 0===e?void 0:e.id;return{isChatSelected:void 0!==t.selectedChat,chatId:i,chatMessages:void 0!==i&&t.messages&&i in t.messages?l([],a(t.messages[i]),!1):[],userId:null===(n=t.user)||void 0===n?void 0:n.id,chatName:null===(r=t.selectedChat)||void 0===r?void 0:r.chatName,avatarSrc:null===(o=t.selectedChat)||void 0===o?void 0:o.avatarSrc}}))(M)},1058:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(6392),c=n(3596),p=n(224),f=n(8544),h=n(9355),d=n(9720),y=n(4884),m=s(n(1371)),v=s(n(8367)),_=n(5149),g=s(n(35)),b=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.init=function(){return a(this,void 0,void 0,(function(){return l(this,(function(t){return this.children.ProfileLink=new v.default({href:"/",text:"Профиль >",path:h.Routes.Profile,styles:"messages__profileLink"}),[2]}))}))},e.prototype.componentDidMount=function(){var t;return a(this,void 0,void 0,(function(){var e=this;return l(this,(function(n){switch(n.label){case 0:return[4,this.props.chatsController.getChats({limit:50,offset:0})];case 1:return n.sent(),null===(t=this.props.chats)||void 0===t||t.forEach((function(t){return a(e,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.props.messagesController.connect(t.id,t.token)];case 1:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.componentDidUpdate=function(t,e){return(0,m.default)(t.lastChatMessages,e.lastChatMessages)?!(0,m.default)(t,e):(this.children.chats=this.createChats(),!0)},e.prototype.render=function(){return this.children.chats=this.createChats(),this.compile(g.default,i(i({},this.props),this.children))},e.prototype.createChats=function(){var t,e=this.props.chatsController,n=this.props.messagesController,r=this.props;return null===(t=this.props.lastChatMessages)||void 0===t?void 0:t.map((function(t){var o=(0,_.createChatsListItem)(),s="";if(t.messageDate){var u=new Date(t.messageDate),c=new Date;s=(0,y.differenceInDays)(c,u)>=1?(0,y.format)(u,y.FormatStrings.DDMMYY):(0,y.format)(u,y.FormatStrings.HHMM)}return new o(i(i({},t),{messageDate:s,events:{click:function(){return a(this,void 0,void 0,(function(){return l(this,(function(o){switch(o.label){case 0:return r.messages&&r.messages[t.chatId]&&r.messages[t.chatId].length>0?(e.selectChat(t.chatId),[2]):[4,n.fetchOldMessages(t.chatId,0)];case 1:return o.sent(),e.selectChat(t.chatId),[2]}}))}))}}}))}))},e}(d.Block),w=(0,p.withControllers)(b,{chatsController:new u.ChatsController,messagesController:new c.MessagesController});e.default=(0,f.withStore)((function(t){var e,n;return{lastChatMessages:null===(e=t.chats)||void 0===e?void 0:e.map((function(t){var e,n,r;return{chatName:t.title,message:null===(e=t.last_message)||void 0===e?void 0:e.content,messageDate:(null===(n=t.last_message)||void 0===n?void 0:n.time)&&new Date(null===(r=t.last_message)||void 0===r?void 0:r.time).toString(),imgSrc:t.avatar,unreadMessagesCount:t.unread_count,isMessageReceived:0===t.unread_count,isMessageSelected:!1,chatId:t.id}})),chats:null===(n=t.chats)||void 0===n?void 0:n.map((function(t){return{id:t.id,token:t.token}})),messages:t.messages}}))(w)},3147:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var a=n(9720),l=i(n(4325)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.Field=s},8757:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FileForm=void 0;var a=n(9720),l=i(n(1179)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getValues=function(){var t={};return this.children.inputs.forEach((function(e){var n=e.props.name;t[n]=e.file})),t},e.prototype.componentDidMount=function(){var t=this;this.props.events={submit:function(e){e.preventDefault(),t.props.submit(t.getValues()),t.props.shouldCleanOnSubmit&&t.cleanValues()}},this.props.validationRules},e.prototype.cleanValues=function(){this.children.inputs.forEach((function(t){t.props.value=void 0}))},e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.FileForm=s},787:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var a=n(9720),l=n(6866),s=i(n(1179)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.props.validationRules&&(n.validationBus=new l.EventBus),n}return o(e,t),e.prototype.getValues=function(){var t={};return this.children.inputs.forEach((function(e){var n=e.getContent(),r=n.name;t[r]=n.value})),t},e.prototype.componentDidMount=function(){var t=this;this.props.events={submit:function(e){e.preventDefault(),t.validationBus&&(t.triggerFormValidation(),t.children.fields.some((function(t){return t.props.errorText&&""!==t.props.errorText})))||(t.props.submit(t.getValues()),t.props.shouldCleanOnSubmit&&t.cleanValues())}},this.subscribeInputsToValidationBus(),this.props.validationRules},e.prototype.subscribeInputsToValidationBus=function(){var t=this;this.validationBus&&this.children.inputs.forEach((function(e){var n,r=e.props.name;e.props.events={blur:function(n){t.triggerInputValidation(r,e.value)}},null===(n=t.validationBus)||void 0===n||n.on(r,(function(e){return t.validationListener(e,r)}))}))},e.prototype.triggerInputValidation=function(t,e){this.validationBus&&this.validationBus.emit(t,e)},e.prototype.triggerFormValidation=function(){var t=this;this.children.inputs.forEach((function(e){if(t.validationBus){var n=e.props.name;t.validationBus.emit(n,e.value)}}))},e.prototype.validationListener=function(t,e){var n=this.props.validationRules&&this.props.validationRules[e];if(n){var r=n(t),o=this.children.fields.filter((function(t){return t.props.name===e}));if(!o[0])throw new Error("Поле с имененм ".concat(e," не зарегистрировано"));if(o.length>1)throw new Error("Имена полей ввода должны быть уникальными");var i=o[0];null!==r&&(i.props.errorText=r),null===r&&i.props.errorText&&(i.props.errorText="")}},e.prototype.cleanValues=function(){this.children.inputs.forEach((function(t){t.props.value=void 0===t.props.value?"":void 0}))},e.prototype.render=function(){return this.compile(s.default,this.props)},e}(a.Block);e.Form=u},3389:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FileInput=void 0;var a=n(9720),l=i(n(2306)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"file",{get:function(){var t=this.getContent();return t.files&&t.files[0]},enumerable:!1,configurable:!0}),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.FileInput=s},1966:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Input=void 0;var a=n(9720),l=i(n(2306)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getContent().value},enumerable:!1,configurable:!0}),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.Input=s},5149:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChatsListItem=void 0;var l=n(8544),s=n(9720),u=a(n(1371)),c=a(n(3843)),p=function(t){function e(e){return t.call(this,i(i({},e),{isMessageSelected:e.chatId===e.selectedChatId}))||this}return o(e,t),e.prototype.componentDidUpdate=function(t,e){return t.selectedChatId!==e.selectedChatId&&(this.props.isMessageSelected=this.props.chatId===e.selectedChatId),e.selectedChatAvatar&&t.selectedChatAvatar!==e.selectedChatAvatar&&this.props.isMessageSelected&&(this.props.imgSrc=e.selectedChatAvatar),!(0,u.default)(t,e)},e.prototype.render=function(){return this.compile(c.default,this.props)},e}(s.Block),f=function(t){var e,n;return{selectedChatId:null===(e=t.selectedChat)||void 0===e?void 0:e.id,selectedChatAvatar:null===(n=t.selectedChat)||void 0===n?void 0:n.avatarSrc}};e.createChatsListItem=function(){return(0,l.withStore)(f)(p)}},8184:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Modal=void 0;var a=n(9720),l=n(4733),s=i(n(9812)),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.init=function(){this.children.CloseBtn=new l.Button({label:"",noValidation:!0,styles:"closeBtn",events:{click:this.props.onClose}})},e.prototype.render=function(){return this.compile(s.default,this.props)},e}(a.Block);e.Modal=u},817:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileAvatar=void 0;var a=n(9720),l=i(n(4217)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.ProfileAvatar=s},8793:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileGoBackBtn=void 0;var a=n(9720),l=i(n(8340)),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){return this.compile(l.default,this.props)},e}(a.Block);e.ProfileGoBackBtn=s},3695:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AuthController=void 0;var a=n(5126),l=n(216),s=n(9355),u=i(n(9755)),c=n(3596),p=function(){function t(){this.api=new a.AuthAPI,this.router=new s.Router("#app")}return t.prototype.signUp=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.api.signup(t)];case 1:return e.sent(),[4,this.getUser()];case 2:return e.sent(),this.router.replace(s.Routes.Profile),[2]}}))}))},t.prototype.signIn=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.api.signin(t)];case 1:return e.sent(),[4,this.getUser()];case 2:return e.sent(),this.router.replace(s.Routes.Chat),[2]}}))}))},t.prototype.getUser=function(){return r(this,void 0,void 0,(function(){var t,e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.getUser()];case 1:return(t=r.sent()).avatar=l.AppLinks.BaseUrl+"/resources"+t.avatar,u.default.set("user",t),e=this.router.getCurrentPathName(),this.router.replace(""!==e?e:s.Routes.Chat),[3,3];case 2:return n=r.sent(),this.router.replace(s.Routes.SignInPage),console.error(n),[3,3];case 3:return[2]}}))}))},t.prototype.logout=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),c.MessagesController.closeAll(),[4,this.api.logout()];case 1:return n.sent(),this.router.replace(null!=t?t:s.Routes.SignUpPage),u.default.set("user",void 0),[3,3];case 2:return e=n.sent(),console.error(e),[3,3];case 3:return[2]}}))}))},t}();e.AuthController=p},6392:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatsController=void 0;var u=n(26),c=n(1574),p=n(216),f=s(n(9755)),h=n(3596),d=function(){function t(){this.chatsApi=new u.ChatsApi,this.usersApi=new c.UsersApi,this.messagesController=new h.MessagesController}return t.prototype.getChats=function(t){return o(this,void 0,void 0,(function(){var e,n,a=this;return i(this,(function(l){switch(l.label){case 0:return[4,this.chatsApi.read(t)];case 1:return e=l.sent(),[4,Promise.all(e.map((function(t){return o(a,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.getToken(t.id)];case 1:return e=n.sent(),[2,r(r({},t),{token:e,avatar:t.avatar&&p.AppLinks.BaseUrl+"/resources"+t.avatar})]}}))}))})))];case 2:return n=l.sent(),f.default.set("chats",n),[2]}}))}))},t.prototype.selectChat=function(t){var e;return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){return(n=null===(e=f.default.getState().chats)||void 0===e?void 0:e.find((function(e){return e.id===t})))&&f.default.set("selectedChat",{avatarSrc:n.avatar,chatName:n.title,id:t}),[2]}))}))},t.prototype.createChat=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.chatsApi.create({title:t})];case 1:return e.sent(),[4,this.getChats({limit:50,offset:0})];case 2:return e.sent(),[2]}}))}))},t.prototype.getToken=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.chatsApi.getToken(t)];case 1:return[2,e.sent().token]}}))}))},t.prototype.addUser=function(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.searchUser(t)];case 1:return n=r.sent(),[4,this.chatsApi.addUser({chatId:e,users:[n[0].id]})];case 2:return r.sent(),[2]}}))}))},t.prototype.deleteUser=function(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this.usersApi.searchUser(t)];case 1:return n=r.sent(),[4,this.chatsApi.deleteUser(n[0].id,e)];case 2:return r.sent(),[2]}}))}))},t.prototype.editAvatar=function(t){var e,n;return o(this,void 0,void 0,(function(){var o,s,u,c,h,d,y,m,v;return i(this,(function(i){switch(i.label){case 0:return[4,this.chatsApi.editAvatar(t)];case 1:return o=i.sent(),s=o.avatar,u=o.id,c=null===(e=f.default.getState().chats)||void 0===e?void 0:e.find((function(t){return t.id===u})),h=null===(n=f.default.getState().chats)||void 0===n?void 0:n.findIndex((function(t){return t.id===u})),d=f.default.getState().chats,y=d&&l([],a(d),!1),m=p.AppLinks.BaseUrl+"/resources"+s,c&&y&&void 0!==h&&(f.default.set("selectedChat.avatarSrc",m),v=r(r({},c),{avatar:m}),y[h]=v,f.default.set("chats",y)),[2]}}))}))},t.prototype.deleteChat=function(t){var e;return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this.chatsApi.delete({chatId:t})];case 1:return r.sent(),this.messagesController.disconnect(t),n=null===(e=f.default.getState().chats)||void 0===e?void 0:e.filter((function(e){return e.id!==t})),f.default.set("chats",n),f.default.set("selectedChat",void 0),f.default.set("messages.".concat(t),void 0),[2]}}))}))},t}();e.ChatsController=d},3596:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MessagesController=void 0;var s=n(26),u=n(216),c=l(n(9755)),p=n(980),f=function(){function t(){return this.sockets=new Map,this.chatsApi=new s.ChatsApi,t.controller}return t.closeAll=function(){this.controller.sockets.forEach((function(t){t.close()}))},t.prototype.connect=function(t,e){var n;return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return this.sockets.get(t)?[2]:(r=null===(n=c.default.getState().user)||void 0===n?void 0:n.id,[4,(i=new p.WSTransport("".concat(u.AppLinks.WSURL,"/").concat(r,"/").concat(t,"/").concat(e))).connect()]);case 1:return o.sent(),this.subscribe(i,t),this.sockets.set(t,i),[2]}}))}))},t.prototype.sendMessage=function(t,e){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,this.getTransport(t)];case 1:return n=o.sent(),r={content:e,type:"message"},n.send(r),[2]}}))}))},t.prototype.fetchOldMessages=function(t,e){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,this.getTransport(t)];case 1:return n=o.sent(),r={type:"get old",content:e},n.send(r),[2]}}))}))},t.prototype.disconnect=function(t){var e;null===(e=this.sockets.get(t))||void 0===e||e.close()},t.prototype.onMessage=function(t,e){if(Array.isArray(e)||"message"===e.type){var n="messages.".concat(t),r=c.default.getState().messages,o=r&&r[t];o?Array.isArray(e)?c.default.set(n,a(a([],i(o),!1),i(e),!1)):c.default.set(n,a(a([],i(o),!1),[e],!1)):c.default.set(n,Array.isArray(e)?e.reverse():[e])}},t.prototype.getTransport=function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return(e=this.sockets.get(t))?[3,3]:[4,this.chatsApi.getToken(t)];case 1:return n=r.sent().token,[4,this.connect(t,n)];case 2:return r.sent(),[2,this.getTransport(t)];case 3:return[2,e]}}))}))},t.prototype.onClose=function(t){this.sockets.delete(t)},t.prototype.subscribe=function(t,e){var n=this;t.on(p.WSTransportEvents.Message,(function(t){return n.onMessage(e,t)})),t.on(p.WSTransportEvents.Close,(function(){return n.onClose(e)}))},t.controller=new t,t}();e.MessagesController=f},2954:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileController=void 0;var a=n(1574),l=n(216),s=i(n(9755)),u=function(){function t(){this.usersApi=new a.UsersApi}return t.prototype.editProfile=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.usersApi.update(t)];case 1:return(e=n.sent()).avatar=e.avatar&&l.AppLinks.BaseUrl+"/resources"+e.avatar,s.default.set("user",e),[2]}}))}))},t.prototype.editPassword=function(t,e){return this.usersApi.editPassword(t,e)},t.prototype.editAvatar=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.usersApi.editAvatar(t)];case 1:return(e=n.sent()).avatar=l.AppLinks.BaseUrl+"/resources"+e.avatar,s.default.set("user",e),[2]}}))}))},t}();e.ProfileController=u},224:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.withControllers=void 0,e.withControllers=function(t,e){return function(t){function n(n){var r=Object.entries(e).reduce((function(t,e){var n=i(e,2),r=n[0],o=n[1];return t[r]=o,t}),{});return t.call(this,o(o({},n),r))||this}return r(n,t),n}(t)}},8544:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),l=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return l(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.withStore=void 0;var c=u(n(1371)),p=s(n(9755));e.withStore=function(t){return function(e){var n;return function(e){function r(r){var o=this;return n=t(p.default.getState()),o=e.call(this,i(i({},r),n))||this,p.default.on(p.StoreEvents.Updated,(function(){var e=t(p.default.getState());(0,c.default)(n,e)||(n=i({},e),o.setProps(i({},e)))})),o}return o(r,e),r}(e)}}},2715:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3695),l=i(n(8564)),s=i(n(396)),u=i(n(8628)),c=n(7368),p=i(n(2152)),f=i(n(6821)),h=i(n(3295)),d=n(9355);n(6344),window.addEventListener("DOMContentLoaded",(function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return new d.Router("#app").use(d.Routes.SignInPage,f.default,{}).use(d.Routes.SignUpPage,h.default,{}).use(d.Routes.Chat,l.default,{}).use(d.Routes.EditProfilePage,u.default,{}).use(d.Routes.EditPasswordPage,s.default,{}).use(d.Routes.Profile,p.default,{}).use(d.Routes.NotFoundPage,c.ErrorPage,{statusCode:404,text:"Не найдено"}).use(d.Routes.ServerError,c.ErrorPage,{statusCode:500,text:"Что-то пошло не так"}).start(),[4,(new a.AuthController).getUser()];case 1:return t.sent(),[2]}}))}))}))},8564:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=l(n(6773)),u=l(n(1058)),c=n(9720),p=l(n(2139)),f=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.init=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){return this.children.Chat=new s.default({}),this.children.MessagesList=new u.default({}),[2]}))}))},e.prototype.render=function(){return this.compile(p.default,this.children)},e}(c.Block);e.default=f},396:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),l=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return l(e,t),e},u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var f,h=n(4733),d=n(3147),y=n(787),m=n(1966),v=n(817),_=n(8793),g=n(3695),b=n(2954),w=n(224),O=n(8544),P=s(n(9355)),S=n(9720),M=p(n(8236));!function(t){t.OldPassword="oldPassword",t.NewPassword="newPassword",t.NewPasswordAgain="newPasswordAgain",t.Login="login"}(f||(f={}));var k=function(t,e,n){var r=t.trim();return e.test(r)?null:n},C=((o={})[f.OldPassword]=function(t){return k(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},o[f.NewPassword]=function(t){return k(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},o[f.NewPasswordAgain]=function(t){return k(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},o[f.Login]=function(t){return k(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},o),x=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.children.GoBackBtn=new _.ProfileGoBackBtn({events:{click:function(){return P.default.back()}}}),this.children.AvatarInput=new v.ProfileAvatar({avatarSrc:this.props.avatarSrc});var t=new m.Input({inputStyle:"editProfileForm__input",type:"password",name:f.OldPassword}),e=new m.Input({inputStyle:"editProfileForm__input",type:"password",name:f.NewPassword}),n=new m.Input({inputStyle:"editProfileForm__input",type:"password",name:f.NewPasswordAgain}),r=[t,e,n],o=[new d.Field({name:f.OldPassword,label:"Старый пароль",input:t,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new d.Field({name:f.NewPassword,label:"Новый пароль",input:e,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new d.Field({name:f.NewPasswordAgain,label:"Повторите пароль",input:n,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"})],i=new h.Button({label:"Сохранить",stylesType:h.ButtonStyleTypes.Submit,styles:"authForm__signUpBtn"}),a=this.props;this.children.form=new y.Form({fields:o,submitBtn:i,submit:function(t){var e=t.newPassword,n=t.oldPassword;return u(this,void 0,void 0,(function(){var t,r;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a.profileController.editPassword(n,e)];case 1:return o.sent(),a.authController.logout(P.Routes.SignInPage),[3,3];case 2:return t=o.sent(),r=t.reason,i.props.actionError=r,[3,3];case 3:return[2]}}))}))},inputs:r,validationRules:C,formClass:"editProfileForm"})},e.prototype.render=function(){return this.compile(M.default,this.children)},e}(S.Block),j=(0,O.withStore)((function(t){var e;return{avatarSrc:null===(e=t.user)||void 0===e?void 0:e.avatar}}))(x);e.default=(0,w.withControllers)(j,{profileController:new b.ProfileController,authController:new g.AuthController})},8628:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)},l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditProfilePage=void 0;var c,p=n(4733),f=n(3147),h=n(8757),d=n(787),y=n(3389),m=n(1966),v=n(8184),_=n(817),g=n(8793),b=n(2954),w=n(224),O=n(8544),P=u(n(9355)),S=n(9720),M=u(n(1371)),k=u(n(3670));!function(t){t.Name="first_name",t.Surname="second_name",t.Login="login",t.Email="email",t.Phone="phone"}(c||(c={}));var C=function(t,e,n){var r=t.trim();return e.test(r)?null:n},x=((o={})[c.Name]=function(t){return C(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},o[c.Surname]=function(t){return C(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},o[c.Login]=function(t){return C(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},o[c.Email]=function(t){return C(t,/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,"латиница, может включать цифры и спецсимволы вроде дефиса, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы")},o[c.Phone]=function(t){return C(t,/^\+?[0-9]{10,15}$/,"От 10 до 15 символов, состоит из цифр, может начинается с плюса")},o),j=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.children.GoBackBtn=new g.ProfileGoBackBtn({events:{click:function(){return P.default.back()}}}),this.renderForm()},e.prototype.componentDidUpdate=function(t,e){return(0,M.default)(t.user,e.user)?!(0,M.default)(t,e):(this.renderForm(),!0)},e.prototype.closeModal=function(){this.children.AvatarModal=void 0,this.props.isModalOpen=!1},e.prototype.submitAvatar=function(t){return l(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=new FormData).append("avatar",t),[4,this.props.profileController.editAvatar(e)];case 1:return n.sent(),[2]}}))}))},e.prototype.renderModal=function(){var t=this,e=new y.FileInput({type:"file",name:"avatar",id:"avatar",inputStyle:"modal__fileInput"}),n=new f.Field({input:e,label:"Выберите файл",name:"avatar",labelStyle:"modal__fileInputLabel"}),r=new h.FileForm({fields:[n],inputs:[e],submit:function(e){var n=e.avatar;return l(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return n?[4,this.submitAvatar(n)]:[3,2];case 1:t.sent(),this.closeModal(),t.label=2;case 2:return[2]}}))}))},submitBtn:new p.Button({label:"Поменять аватар",stylesType:p.ButtonStyleTypes.Submit,type:"submit"}),formClass:"modal__fileForm"}),o=new v.Modal({content:[r],header:"Изменить аватар",isOpen:!0,onClose:this.closeModal.bind(this)});this.children.AvatarModal=o,this.props.isModalOpen=!0,o.dispatchComponentDidMount()},e.prototype.renderForm=function(){var t,e,n,r,o,i,u,c,h,y,v,g,b=this.renderModal.bind(this),w=new p.Button({label:"",noValidation:!0,styles:"editProfileForm__openAvatarModal profile__changeAvatarBtn",events:{click:b}});this.children.AvatarInput=new _.ProfileAvatar({openModalBtn:w,avatarSrc:null===(t=this.props.user)||void 0===t?void 0:t.avatar});var O=new m.Input({inputStyle:"editProfileForm__input",type:"text",name:"first_name",value:null!==(n=null===(e=this.props.user)||void 0===e?void 0:e.first_name)&&void 0!==n?n:""}),P=new m.Input({inputStyle:"editProfileForm__input",type:"text",name:"second_name",value:null!==(o=null===(r=this.props.user)||void 0===r?void 0:r.second_name)&&void 0!==o?o:""}),S=new m.Input({inputStyle:"editProfileForm__input",type:"text",name:"login",value:null!==(u=null===(i=this.props.user)||void 0===i?void 0:i.login)&&void 0!==u?u:""}),M=new m.Input({inputStyle:"editProfileForm__input",type:"email",name:"email",value:null!==(h=null===(c=this.props.user)||void 0===c?void 0:c.email)&&void 0!==h?h:""}),k=new m.Input({inputStyle:"editProfileForm__input",type:"tel",name:"phone",value:null!==(v=null===(y=this.props.user)||void 0===y?void 0:y.phone.toString())&&void 0!==v?v:""}),C=[O,P,S,M,k],j=[new f.Field({name:"first_name",label:"Имя",input:O,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new f.Field({name:"second_name",label:"Фамилия",input:P,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new f.Field({name:"login",label:"Логин *",input:S,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new f.Field({name:"email",label:"Email *",input:M,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"}),new f.Field({name:"phone",label:"Телефон *",input:k,inputWrapperStyle:"editProfileForm__inputWrapper",labelStyle:"editProfileForm__inputLabel",errorStyle:"editProfileForm__inputError"})],A=this.props.profileController,E=null!==(g=this.props.user)&&void 0!==g?g:{};this.children.Form=new d.Form({fields:j,submitBtn:new p.Button({label:"Сохранить",stylesType:p.ButtonStyleTypes.Submit,styles:"authForm__signUpBtn"}),submit:function(t){var e;return l(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,A.editProfile(a(a(a({},E),t),{display_name:null!==(e=E.display_name)&&void 0!==e?e:""}))];case 1:return n.sent(),[2]}}))}))},inputs:C,validationRules:x,formClass:"editProfileForm"}),this.children.Form.componentDidMount()},e.prototype.render=function(){return this.compile(k.default,this.children)},e}(S.Block);e.EditProfilePage=j;var A=(0,O.withStore)((function(t){return t.user?{user:a({},t.user)}:{user:void 0}}))(j);e.default=(0,w.withControllers)(A,{profileController:new b.ProfileController})},7368:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorPage=void 0;var l=a(n(8367)),s=n(9355),u=n(9720),c=a(n(9738)),p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.init=function(){this.children.Link=new l.default({href:"/",text:"Назад к чатам",path:s.Routes.Chat})},e.prototype.render=function(){return this.compile(c.default,i({Link:this.children.Link},this.props))},e}(u.Block);e.ErrorPage=p},2152:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=a(n(8367)),s=n(8793),u=n(3695),c=n(224),p=n(8544),f=n(9355),h=n(9720),d=a(n(7019)),y=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.init=function(){var t=this.props.router,e=this.props.authController;this.children.GoBackBtn=new s.ProfileGoBackBtn({events:{click:function(){t.back()}}}),this.children.ChangeDataLink=new l.default({href:"/",text:"Изменить данные",styles:"profile__link",path:f.Routes.EditProfilePage}),this.children.LogoutLink=new l.default({href:"/",text:"Выйти",styles:"profile__link",handler:e.logout.bind(e)}),this.children.ChangePasswordLink=new l.default({href:"/",text:"Изменить пароль",styles:"profile__link",path:f.Routes.EditPasswordPage})},e.prototype.render=function(){var t,e,n,r,o;return this.compile(d.default,i(i({},this.children),{email:null===(t=this.props.user)||void 0===t?void 0:t.email,login:null===(e=this.props.user)||void 0===e?void 0:e.login,name:null===(n=this.props.user)||void 0===n?void 0:n.first_name,surname:null===(r=this.props.user)||void 0===r?void 0:r.second_name,chatName:"Bla",telephone:null===(o=this.props.user)||void 0===o?void 0:o.phone,avatarSrc:this.props.avatarSrc}))},e}(h.Block),m=(0,c.withControllers)(y,{router:new f.Router("#app"),authController:new u.AuthController});e.default=(0,p.withStore)((function(t){var e;return{user:t.user,avatarSrc:null===(e=t.user)||void 0===e?void 0:e.avatar}}))(m)},6821:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u,c=s(n(8367)),p=n(4733),f=n(3147),h=n(787),d=n(1966),y=n(3695),m=n(224),v=n(9355),_=n(9720),g=s(n(2981));!function(t){t.Login="login",t.Password="password"}(u||(u={}));var b=function(t,e,n){var r=t.trim();return e.test(r)?null:n},w=((o={})[u.Login]=function(t){return b(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},o[u.Password]=function(t){return b(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},o),O=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){var t=this,e=new d.Input({inputStyle:"inputField__input",type:"text",name:"login"}),n=new d.Input({inputStyle:"inputField__input",type:"password",name:"password"}),r=[e,n],o=[new f.Field({name:"login",label:"Логин *",input:e}),new f.Field({name:"password",label:"Пароль *",input:n})],i=new p.Button({label:"Войти",stylesType:p.ButtonStyleTypes.Submit,containerStyles:"authForm__submitBtn"});this.children.form=new h.Form({fields:o,submitBtn:i,submit:function(e){return a(t,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.props.auth.signIn(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),n=t.reason,i.props.actionError=n,[3,3];case 3:return[2]}}))}))},inputs:r,validationRules:w,formClass:"authForm"}),this.children.signUpLink=new c.default({href:"/",text:"Нет аккаунта?",styles:"auth__link",path:v.Routes.SignUpPage})},e.prototype.render=function(){return this.compile(g.default,this.children)},e}(_.Block),P=(0,m.withControllers)(O,{auth:new y.AuthController});e.default=P},3295:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u,c=s(n(8367)),p=n(4733),f=n(3147),h=n(787),d=n(1966),y=n(3695),m=n(224),v=n(9355),_=n(9720),g=s(n(383));!function(t){t.Name="first_name",t.Surname="second_name",t.Login="login",t.Email="email",t.Phone="phone",t.Password="password"}(u||(u={}));var b=function(t,e,n){var r=t.trim();return e.test(r)?null:n},w=((o={})[u.Name]=function(t){return b(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},o[u.Surname]=function(t){return b(t,/^[A-ZА-Я][\p{L}]*$/u,"Латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов")},o[u.Login]=function(t){return b(t,/^[a-zA-Z][a-zA-Z0-9\-_]{3,20}$/,"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)")},o[u.Email]=function(t){return b(t,/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,"латиница, может включать цифры и спецсимволы вроде дефиса, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы")},o[u.Password]=function(t){return b(t,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,40}$/,"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра")},o[u.Phone]=function(t){return b(t,/^\+?[0-9]{10,15}$/,"От 10 до 15 символов, состоит из цифр, может начинается с плюса")},o),O=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){var t=this,e=new d.Input({inputStyle:"inputField__input",type:"text",name:u.Name}),n=new d.Input({inputStyle:"inputField__input",type:"text",name:u.Surname}),r=new d.Input({inputStyle:"inputField__input",type:"text",name:u.Login}),o=new d.Input({inputStyle:"inputField__input",type:"email",name:u.Email}),i=new d.Input({inputStyle:"inputField__input",type:"tel",name:u.Phone}),s=new d.Input({inputStyle:"inputField__input",type:"password",name:u.Password}),y=[e,n,r,o,i,s],m=[new f.Field({name:u.Name,label:"Имя",input:e}),new f.Field({name:u.Surname,label:"Фамилия",input:n}),new f.Field({name:u.Login,label:"Логин *",input:r}),new f.Field({name:u.Email,label:"Email *",input:o}),new f.Field({name:u.Phone,label:"Телефон *",input:i}),new f.Field({name:u.Password,label:"Пароль *",input:s})],_=new p.Button({label:"Зарегистрироваться",stylesType:p.ButtonStyleTypes.Submit,styles:"authForm__signUpBtn"});this.children.form=new h.Form({fields:m,submitBtn:_,submit:function(e){return a(t,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.props.auth.signUp(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),n=t.reason,_.props.actionError=n,[3,3];case 3:return[2]}}))}))},inputs:y,validationRules:w,formClass:"authForm"}),this.children.signInLink=new c.default({href:"/",text:"Уже есть аккаунт?",styles:"auth__link",path:v.Routes.SignInPage})},e.prototype.render=function(){return this.compile(g.default,this.children)},e}(_.Block),P=(0,m.withControllers)(O,{auth:new y.AuthController});e.default=P},9720:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var l,s=n(6866),u=a(n(1371));!function(t){t.INIT="init",t.FLOW_CDM="flow:component-did-mount",t.FLOW_CDU="flow:component-did-update",t.FLOW_RENDER="flow:render"}(l||(l={}));var c=function(){function t(t){this.id=Math.random().toString(16).slice(6),this._element=null,this.eventBus=new s.EventBus,this.registerEvents();var e=this.separatePropsFromChildren(t),n=e.props,r=e.children;this.children=r,this.props=this.makePropsProxy(n),this.eventBus.emit(l.INIT)}return t.prototype.separatePropsFromChildren=function(e){var n={},r={};return Object.entries(e).forEach((function(e){var i=o(e,2),a=i[0],l=i[1];if(Array.isArray(l)&&l.length>0&&l.every((function(e){return e instanceof t})))r[a]=l;else if(l instanceof t){var s=l;r[a]=s}else n[a]=l})),{props:n,children:r}},t.prototype._render=function(){var t=this.render().firstElementChild;this._element&&this._element.replaceWith(t),this._element=t,this.addEvents()},t.prototype.render=function(){return new DocumentFragment},t.prototype.compile=function(t,e){var n=r({},e);Object.entries(this.children).forEach((function(t){var e=o(t,2),r=e[0],i=e[1];i&&(Array.isArray(i)?n[r]=i.map((function(t){return'<div data-id="'.concat(t.id,'"></div>')})):n[r]='<div data-id="'.concat(i.id,'"></div>'))}));var a=t(n),l=document.createElement("template");l.innerHTML=a;var s=function(t){var e,n=l.content.querySelector('[data-id="'.concat(t.id,'"]'));n&&(null===(e=t.getContent())||void 0===e||e.append.apply(e,i([],o(Array.from(n.childNodes)),!1)),n.replaceWith(t.getContent()))};return Object.entries(this.children).forEach((function(t){var e=o(t,2),n=(e[0],e[1]);n&&(Array.isArray(n)?n.forEach(s):s(n))})),l.content},t.prototype.getContent=function(){return this._element},t.prototype.setProps=function(t){t&&Object.assign(this.props,t)},t.prototype.addEvents=function(){var t=this,e=this.props.events,n=void 0===e?{}:e;Object.keys(n).forEach((function(e){var r;null===(r=t._element)||void 0===r||r.addEventListener(e,n[e])}))},t.prototype.makePropsProxy=function(t){var e=this;return new Proxy(t,{get:function(t,e){var n=t[e];return"function"==typeof n?n.bind(t):n},set:function(t,n,o){var i=r({},t);return t[n]=o,e.eventBus.emit(l.FLOW_CDU,i,t),!0},deleteProperty:function(){throw new Error("Нет прав")}})},t.prototype._componentDidMount=function(){this.componentDidMount()},t.prototype.componentDidMount=function(){},t.prototype.dispatchComponentDidMount=function(){this.eventBus.emit(l.FLOW_CDM),Object.values(this.children).forEach((function(t){t&&(Array.isArray(t)?t.forEach((function(t){return t.dispatchComponentDidMount()})):t.dispatchComponentDidMount())}))},t.prototype.hide=function(){},t.prototype._componentDidUpdate=function(t,e){this.componentDidUpdate(t,e)&&this.eventBus.emit(l.FLOW_RENDER)},t.prototype.componentDidUpdate=function(t,e){return!(0,u.default)(t,e)},t.prototype.registerEvents=function(){this.eventBus.on(l.INIT,this._init.bind(this)),this.eventBus.on(l.FLOW_RENDER,this._render.bind(this)),this.eventBus.on(l.FLOW_CDM,this._componentDidMount.bind(this)),this.eventBus.on(l.FLOW_CDU,this._componentDidUpdate.bind(this))},t.prototype._init=function(){this.init(),this.eventBus.emit(l.FLOW_RENDER)},t.prototype.init=function(){},t}();e.Block=c},4884:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.differenceInDays=e.FormatStrings=void 0,function(t){t.DDMMYY="dd.mm.yy",t.HHMM="hh.mm"}(n=e.FormatStrings||(e.FormatStrings={})),e.differenceInDays=function(t,e){var n=t.getTime()-e.getTime();return Math.floor(n/864e5)},e.format=function(t,e){switch(e){case n.DDMMYY:return r(t);case n.HHMM:return o(t)}};var r=function(t){var e=t.getDate(),n=e.toString();e<10&&(n="0".concat(e));var r=t.getMonth(),o=r.toString();r<10&&(o="0".concat(o));var i=t.getFullYear().toString().substring(2,4);return"".concat(n,".").concat(o,".").concat(i)},o=function(t){var e=t.getHours(),n=e.toString();e<10&&(n="0".concat(n));var r=t.getHours(),o=r.toString();return r<10&&(o="0".concat(r)),"".concat(n,":").concat(o)}},6866:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.EventBus=void 0;var o=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){var n;this.listeners[t]||(this.listeners[t]=[]),null===(n=this.listeners[t])||void 0===n||n.push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])throw new Error("Несуществующее событие: ".concat(t));this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.listeners[t]&&this.listeners[t].forEach((function(t){t.apply(void 0,r([],n(e),!1))}))},t}();e.EventBus=o},1162:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithRetry=void 0;var i=n(9255);e.fetchWithRetry=function(t,e,n){return r(void 0,void 0,void 0,(function(){var r,a,l,s,u;return o(this,(function(o){switch(o.label){case 0:switch(r=n.retries,a=n.method,l=null,a){case i.METHODS.DELETE:l=t.delete.bind(t);break;case i.METHODS.POST:l=t.post.bind(t);break;case i.METHODS.PUT:l=t.put.bind(t);break;default:l=t.get.bind(t)}s=0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l(e,n)];case 2:return[2,o.sent()];case 3:if(u=o.sent(),null===l)throw u;if(s===r)throw u;return s+=1,[2,l(e,n)];case 4:return[2]}}))}))}},9255:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.HTTPTransport=e.METHODS=void 0;var i,a=n(216);!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE"}(i=e.METHODS||(e.METHODS={}));var l=function(){function t(e){this.endpoint="".concat(t.API_URL).concat(e)}return t.prototype.get=function(t,e){void 0===t&&(t="/"),void 0===e&&(e={});var n=e.data instanceof FormData?void 0:this.queryStringify(t,e.data);return this.request(this.endpoint+n,r(r({},e),{method:i.GET}),e.timeout)},t.prototype.put=function(t,e){return this.request(this.endpoint+t,r(r({},e),{method:i.PUT}),e.timeout)},t.prototype.post=function(t,e){return this.request(this.endpoint+t,r(r({},e),{method:i.POST}),e.timeout)},t.prototype.delete=function(t,e){return this.request(this.endpoint+t,r(r({},e),{method:i.DELETE}),e.timeout)},t.prototype.request=function(t,e,n){return void 0===n&&(n=5e3),new Promise((function(r,a){var l=e.headers,s=e.data,u=e.method,c=s instanceof FormData,p=new XMLHttpRequest;p.open(u,t),p.timeout=n,l&&Object.entries(l).forEach((function(t){var e=o(t,2),n=e[0],r=e[1];p.setRequestHeader(n,r)})),p.onload=function(){if(p.status<400){var t=p.response;r(t)}else a(p.response)},c||p.setRequestHeader("Content-Type","application/json"),p.withCredentials=!0,p.responseType="json",p.onabort=a,p.onerror=a,p.ontimeout=a,c?p.send(s):u!==i.GET&&s?p.send(JSON.stringify(s)):p.send()}))},t.prototype.queryStringify=function(t,e){if(e){var n="?";return Object.entries(e).forEach((function(t){var e=o(t,2),r=e[0],i=e[1];n+="".concat(r,"=").concat(i,"&")})),t+n.slice(0,-1)}return t},t.API_URL=a.AppLinks.BaseUrl,t}();e.HTTPTransport=l},9755:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StoreEvents=void 0;var a,l=n(6866),s=i(n(8259));!function(t){t.Updated="updated"}(a=e.StoreEvents||(e.StoreEvents={}));var u=new(function(t){function e(e){var n=t.call(this)||this;return n.state=e,n}return o(e,t),e.prototype.getState=function(){return this.state},e.prototype.set=function(t,e){(0,s.default)(this.state,t,e),this.emit(a.Updated,this.state)},e}(l.EventBus))({});e.default=u},980:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.WSTransport=e.WSTransportEvents=void 0;var i,a=n(6866);!function(t){t.Connected="connected",t.Error="error",t.Message="message",t.Close="close"}(i=e.WSTransportEvents||(e.WSTransportEvents={}));var l=function(t){function e(e){var n=t.call(this)||this;return n.url=e,n.socket=null,n}return o(e,t),e.prototype.connect=function(){var t=this;return this.socket=new WebSocket(this.url),this.subscribe(this.socket),new Promise((function(e){t.on(i.Connected,(function(){t.setupPing(),e()}))}))},e.prototype.send=function(t){if(!this.socket)throw new Error("Socket is not connected");this.socket.send(JSON.stringify(t))},e.prototype.close=function(){var t;null===(t=this.socket)||void 0===t||t.close()},e.prototype.setupPing=function(){var t=this;this.pingInterval=setInterval((function(){return t.send({type:"ping"})}),5e3),this.on(i.Close,(function(){return clearInterval(t.pingInterval)}))},e.prototype.subscribe=function(t){var e=this;t.addEventListener("open",(function(){e.emit(i.Connected)})),t.addEventListener("close",(function(){e.emit(i.Close)})),t.addEventListener("error",(function(t){e.emit(i.Error,t)})),t.addEventListener("message",(function(t){try{var n=JSON.parse(t.data);if(!Array.isArray(n)&&n.type&&("ping"===n.type||"pong"===n.type))return;e.emit(i.Message,n)}catch(t){e.emit(i.Error,t)}}))},e}(a.EventBus);e.WSTransport=l},1371:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var i=n(3656),a=function(t){return"number"==typeof t&&isNaN(t)},l=function(t,e){var n,s;if(typeof t!=typeof e)return!1;if(void 0===t||void 0===e)return t===e;var u=Object.entries(t),c=Object.entries(e),p=0===u.length,f=0===c.length,h=p&&f;if(!h&&(p||f))return!1;if(h)return!0;if(u.length!==c.length)return!1;try{for(var d=r(u),y=d.next();!y.done;y=d.next()){var m=o(y.value,2),v=m[0],_=m[1];if(!(v in e))return!1;var g=e[v];if((0,i.isArrayOrObject)(_)&&(0,i.isArrayOrObject)(g)){if(l(_,g))continue;return!1}if(_!==g)return a(_)&&a(g)}}catch(t){n={error:t}}finally{try{y&&!y.done&&(s=d.return)&&s.call(d)}finally{if(n)throw n.error}}return!0};e.default=l},2708:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function l(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=e.call(t,a)}catch(t){l=[6,t],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.modalsSwitcher=void 0;var i=n(4733),a=n(3147),l=n(8757),s=n(787),u=n(3389),c=n(1966),p=n(8184);e.modalsSwitcher=function(t,e,n,f){var h=new c.Input({name:"login",inputStyle:"inputField__input"}),d=new a.Field({input:h,label:"Логин",name:"login"}),y=new s.Form({fields:[d],inputs:[h],submitBtn:new i.Button({label:"Добавить пользователя",stylesType:i.ButtonStyleTypes.Submit}),submit:function(i){var a=i.login;return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return null===e?[3,2]:[4,n.addUser(a,e)];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}),m=new s.Form({fields:[d],inputs:[h],submitBtn:new i.Button({label:"Удалить пользователя",stylesType:i.ButtonStyleTypes.Submit}),submit:function(i){var a=i.login;return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return null===e?[3,2]:[4,n.deleteUser(a,e)];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}),v=new u.FileInput({type:"file",name:"avatar",id:"avatar",inputStyle:"modal__fileInput"}),_=new a.Field({input:v,label:"Выберите файл",name:"avatar",labelStyle:"modal__fileInputLabel"}),g=new l.FileForm({fields:[_],inputs:[v],submit:function(i){var a=i.avatar;return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return a&&null!==e?((r=new FormData).append("avatar",a),r.append("chatId",e.toString()),[4,n.editAvatar(r)]):[3,2];case 1:o.sent(),o.label=2;case 2:return t(),[2]}}))}))},submitBtn:new i.Button({label:"Поменять аватар",stylesType:i.ButtonStyleTypes.Submit}),formClass:"modal__fileForm"}),b=new c.Input({name:"chatName",inputStyle:"inputField__input"}),w=new a.Field({input:b,label:"Имя чата",name:"chatName"}),O=new s.Form({fields:[w],inputs:[b],submit:function(e){var i=e.chatName;return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,n.createChat(i)];case 1:return e.sent(),t(),[2]}}))}))},submitBtn:new i.Button({label:"Создать чат",stylesType:i.ButtonStyleTypes.Submit}),formClass:"modal__fileForm"}),P=new i.Button({label:"Подтвердить",stylesType:i.ButtonStyleTypes.Submit,type:"submit",events:{click:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return e?[4,n.deleteChat(e)]:[3,2];case 1:r.sent(),t(),r.label=2;case 2:return[2]}}))}))}}});switch(f){case"delete-chat":return new p.Modal({isOpen:!0,content:[P],header:"Удалить?",onClose:t});case"add-user":return new p.Modal({isOpen:!0,header:"Добавить пользователя",content:[y],onClose:t});case"delete-user":return new p.Modal({isOpen:!0,header:"Удалить пользователя",content:[m],onClose:t});case"change-avatar":return new p.Modal({isOpen:!0,header:"Поменять аватар",content:[g],onClose:t});case"create-chat":return new p.Modal({isOpen:!0,header:"Создать чат",content:[O],onClose:t});default:return}}},8259:(t,e)=>{"use strict";function n(t,e){for(var r in e)if(e.hasOwnProperty(r))try{e[r].constructor===Object?e[r]=n(t[r],e[r]):t[r]=e[r]}catch(n){t[r]=e[r]}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){if("object"!=typeof t||null===t)return t;if("string"!=typeof e)throw new Error("path must be string");return n(t,e.split(".").reduceRight((function(t,e){var n;return(n={})[e]=t,n}),r))}},5238:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trim=void 0,e.trim=function(t,e){return void 0===e?t.trim():t.replace(new RegExp("^[".concat(e,"]+|[").concat(e,"]+$"),"gm"),"")}},3656:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayOrObject=e.isObject=void 0,e.isObject=function(t){return"object"==typeof t&&null!==t&&t.constructor===Object&&"[object Object]"===Object.prototype.toString.call(t)},e.isArrayOrObject=function(t){return(0,e.isObject)(t)||Array.isArray(t)}},4801:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAYAAACTphZWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAChSURBVHgBdYyxCQJBFET//7crBiecHWwJi2LuVaAdqMHBoYElaAsmIhhZgXaw5irYyYGeIHi7634DQdEJhmHmMQh/1MovQ1e3O7hDEpHsnZbxgnjQWaE/wPF1hoRTeZMqQmnQ+Sb3pPNCRUKY9qQcvEGAPj1w5ARs0fvNcdWY84ZsnazUTngT4j406hf4emY7rOMzVZiGmNhalVphu98g6wn0STg3g9uIIwAAAABJRU5ErkJggg=="}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(2715)})();
//# sourceMappingURL=main.js.map